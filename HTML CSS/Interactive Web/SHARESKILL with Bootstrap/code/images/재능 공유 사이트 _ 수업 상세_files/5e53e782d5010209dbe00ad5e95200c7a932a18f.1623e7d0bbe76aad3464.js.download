(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"+f9f":function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return L}));var r,i,o,a,s,l,c,u,d,p,f,b,m,h,g,_=n("KQm4"),v=n("md7G"),O=n("foSv"),E=n("JX7q"),y=n("Ji7U"),S=n("a3ss"),I=n("1OyB"),C=n("Y65e"),w=(n("+JCI"),n("2vnA")),j=(r=function e(t,n,r){var l=this;Object(I.a)(this,e),Object(S.a)(this,"itemData",i,this),Object(S.a)(this,"parentId",o,this),Object(S.a)(this,"level",a,this),Object(S.a)(this,"changeItemName",s,this),Object(w.runInAction)((function(){l.parentId=n,l.itemData=t,l.level=r}))},i=Object(C.a)(r.prototype,"itemData",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(C.a)(r.prototype,"parentId",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=Object(C.a)(r.prototype,"level",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(C.a)(r.prototype,"changeItemName",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.itemData.name=t;var n=e.itemData.filePath.split("/");n[n.length-1]=t,e.itemData.filePath=n.join("/")}}}),r),N=(l=function(e){function t(e,n,r,i){var o;return Object(I.a)(this,t),o=Object(v.a)(this,Object(O.a)(t).call(this,e,n,r)),Object(S.a)(o,"isOpen",c,Object(E.a)(o)),Object(S.a)(o,"childrenIds",u,Object(E.a)(o)),Object(S.a)(o,"changeOpen",d,Object(E.a)(o)),Object(S.a)(o,"setOpen",p,Object(E.a)(o)),Object(w.runInAction)((function(){o.isOpen=i;var t=[];e.children&&e.children.map((function(e){t=[].concat(Object(_.a)(t),[e.id])})),o.childrenIds=Object(_.a)(t),o.itemData.children=[]})),o}return Object(y.a)(t,e),t}(j),c=Object(C.a)(l.prototype,"isOpen",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=Object(C.a)(l.prototype,"childrenIds",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=Object(C.a)(l.prototype,"changeOpen",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),p=Object(C.a)(l.prototype,"setOpen",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isOpen=t}}}),l),T=(f=function(e){function t(e,n,r){var i;return Object(I.a)(this,t),i=Object(v.a)(this,Object(O.a)(t).call(this,e,n,r)),Object(S.a)(i,"readonly",b,Object(E.a)(i)),Object(S.a)(i,"contentChange",m,Object(E.a)(i)),Object(w.runInAction)((function(){i.readonly="READONLY"===e.type})),i}return Object(y.a)(t,e),t}(j),b=Object(C.a)(f.prototype,"readonly",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(C.a)(f.prototype,"contentChange",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.itemData.content=t}}}),f),L=(h=function(e){function t(e,n,r,i){var o;return Object(I.a)(this,t),o=Object(v.a)(this,Object(O.a)(t).call(this,e,n,r)),Object(S.a)(o,"link",g,Object(E.a)(o)),Object(w.runInAction)((function(){o.link=e.assetId?e.filePath:"https://bakey-api.codeit.kr/files/"+i+e.filePath})),o}return Object(y.a)(t,e),t}(j),g=Object(C.a)(h.prototype,"link",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h)},"+sTJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("q1tI"),i=n.n(r),o=(n("75fB"),n("Z/8h")),a=n("y257"),s=n("qpav"),l=n("cBaE"),c=n("TyAF"),u=n("Mpw+"),d=i.a.createElement,p=Object(c.c)((function(e){var t=u.a.intlStringFactory(["BookmarkBtn_done","BookmarkBtn_from_profile","BookmarkBtn_lesson","BookmarkBtn_question","BookmarkBtn_set","BookmarkBtn_confirm"]),n=e.isChecked,r=e.toggleBookmark,c=e.className,p=void 0===c?"":c,f=e.type,b=void 0===f?"question":f,m=e.style;return d(i.a.Fragment,null,d("div",{className:"BookmarkBtn BookmarkBtn--"+(n?"checked":"unchecked")+" "+p,onClick:function(){return r()},style:m||{}}),d(o.a,{popupTitle:"lesson"===b?a.b.lessonBookmarkCompleted:a.c.questionBookmarkCompleted,title:d("b",null,t.BookmarkBtn_done),content:t.BookmarkBtn_from_profile+" "+("lesson"===b?t.BookmarkBtn_lesson:t.BookmarkBtn_question)+t.BookmarkBtn_set,hasIcon:!0,iconType:"bookmark",iconPosition:"top",btnText:t.BookmarkBtn_confirm,btnType:"3d",isDark:"lesson"===b&&Object(s.a)(Object(l.k)().theme)}))}))},"/r/D":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),i=n.n(r),o=(n("x0cI"),n("Mpw+")),a=i.a.createElement,s=function(e){var t=e.answer,n=e.resolved,r=e.className,i=void 0===r?"":r,s=o.a.intlStringFactory(["AnswerCount_answer"]),l="default";return n?l="resolved":t>0&&(l="unresolved"),a("span",{className:i+"__counts--each AnswerCount "+l},s.AnswerCount_answer," ",t)}},"0FXL":function(e,t,n){},"2X+C":function(e,t,n){"use strict";var r,i,o,a,s,l,c,u,d,p,f,b,m,h,g,_,v,O,E,y,S,I,C,w,j,N,T,L,k,R,x,D,A,F,P,z,M,B,q,Q,U,H,G,W,V,J,K,Y,X,Z,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de=n("rePB"),pe=n("o0o1"),fe=n.n(pe),be=n("a3ss"),me=n("1OyB"),he=n("Y65e"),ge=(n("+JCI"),n("aak0")),_e=n("2vnA"),ve=n("+d86"),Oe=n("cBaE"),Ee=n("rW1U"),ye=n("Kjp4"),Se=n("nOHt"),Ie=n.n(Se),Ce=n("y257"),we=n("rzrn"),je=n("l/yA"),Ne=n("Mpw+"),Te=n("1sAG"),Le=(r=function e(){Object(me.a)(this,e),Object(be.a)(this,"isSubmitted",i,this),Object(be.a)(this,"isCorrectAnswer",o,this),Object(be.a)(this,"xpPoint",a,this),Object(be.a)(this,"setIsSubmitted",s,this),Object(be.a)(this,"setIsCorrectAnswer",l,this),Object(be.a)(this,"setXpPoint",c,this)},i=Object(he.a)(r.prototype,"isSubmitted",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(he.a)(r.prototype,"isCorrectAnswer",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(he.a)(r.prototype,"xpPoint",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(he.a)(r.prototype,"setIsSubmitted",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSubmitted=t}}}),l=Object(he.a)(r.prototype,"setIsCorrectAnswer",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isCorrectAnswer=t}}}),c=Object(he.a)(r.prototype,"setXpPoint",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.xpPoint=t}}}),r),ke=n("tUgX"),Re=n("vuIU"),xe=(u=function(){function e(){var t=this;Object(me.a)(this,e),Object(be.a)(this,"timeoutTimer",d,this),Object(be.a)(this,"isSplitMode",p,this),Object(be.a)(this,"isDragging",f,this),Object(be.a)(this,"isRightClosed",b,this),Object(be.a)(this,"leftSizeInPercentage",m,this),this.getTimeoutTimer=function(){return t.timeoutTimer},Object(be.a)(this,"setTimeoutTimer",h,this),this.getIsSplitMode=function(){return t.isSplitMode},Object(be.a)(this,"setIsSplitMode",g,this),this.getIsDragging=function(){return t.isDragging},Object(be.a)(this,"setIsDragging",_,this),this.getIsRightClosed=function(){return t.isRightClosed},Object(be.a)(this,"setIsRightClosed",v,this),this.getLeftSizeInPercentage=function(){return t.leftSizeInPercentage},this.setLeftSizeInPercentage=function(e){e<0||e>100||(t.leftSizeInPercentage=e)},Object(be.a)(this,"setDefault",O,this),Object(be.a)(this,"setSplitModeByWidth",E,this),this.checkIsBothViewOpened=function(){return t.getIsSplitMode()&&!t.isRightClosed},Object(be.a)(this,"toggleIsRightClosed",y,this),Object(be.a)(this,"pressDragButton",S,this),Object(be.a)(this,"releaseDragButton",I,this),Object(be.a)(this,"handleMouseMove",C,this),Object(be.a)(this,"handleMouseUp",w,this),this.handleMouseDown=function(){document.body.addEventListener("mousemove",t.handleMouseMove),document.body.addEventListener("touchmove",t.handleMouseMove),window.addEventListener("mouseup",t.handleMouseUp),window.addEventListener("touchend",t.handleMouseUp)},this.setSplitModeByWidth()}return Object(Re.a)(e,[{key:"computedLeftWidth",get:function(){return this.getIsRightClosed()?100:this.getIsSplitMode()?this.getLeftSizeInPercentage():0}},{key:"leftStyle",get:function(){return{width:(this.getIsRightClosed()?"100":this.getLeftSizeInPercentage().toString())+"%",visibility:this.getIsSplitMode()||this.getIsRightClosed()?"visible":"hidden"}}},{key:"rightStyle",get:function(){return{width:(this.getIsRightClosed()?"0":(100-this.getLeftSizeInPercentage()).toString())+"%",visibility:this.getIsRightClosed()?"hidden":"visible"}}}]),e}(),d=Object(he.a)(u.prototype,"timeoutTimer",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),p=Object(he.a)(u.prototype,"isSplitMode",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(he.a)(u.prototype,"isDragging",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(he.a)(u.prototype,"isRightClosed",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(he.a)(u.prototype,"leftSizeInPercentage",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),h=Object(he.a)(u.prototype,"setTimeoutTimer",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.timeoutTimer=t}}}),g=Object(he.a)(u.prototype,"setIsSplitMode",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.getIsSplitMode();e.isSplitMode=t,!n&&t?e.setIsRightClosed(!1):n&&!t&&e.setIsRightClosed(!0)}}}),_=Object(he.a)(u.prototype,"setIsDragging",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isDragging=t}}}),v=Object(he.a)(u.prototype,"setIsRightClosed",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.getIsRightClosed();e.isRightClosed=t,!t&&n?e.setLeftSizeInPercentage(e.getIsSplitMode()?50:0):t&&e.setLeftSizeInPercentage(100)}}}),O=Object(he.a)(u.prototype,"setDefault",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setTimeoutTimer(void 0),e.setIsSplitMode(!1),e.setIsDragging(!1),e.setIsRightClosed(!1),e.setLeftSizeInPercentage(50)}}}),E=Object(he.a)(u.prototype,"setSplitModeByWidth",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:994;e.setIsSplitMode(window.innerWidth>=t)}}}),y=Object(he.a)(u.prototype,"toggleIsRightClosed",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsRightClosed(!e.getIsRightClosed())}}}),S=Object(he.a)(u.prototype,"pressDragButton",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.timeoutTimer=setTimeout((function(){e.handleMouseDown(),e.getIsRightClosed()||e.setIsDragging(!0)}),150)}}}),I=Object(he.a)(u.prototype,"releaseDragButton",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.getIsDragging()?e.setIsDragging(!1):e.getIsRightClosed()?(e.setIsRightClosed(!1),e.setLeftSizeInPercentage(50)):(e.setIsRightClosed(!0),e.setLeftSizeInPercentage(100)),e.setTimeoutTimer(void 0))}}}),C=Object(he.a)(u.prototype,"handleMouseMove",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(!e.getIsRightClosed()){var n=(t.touches?t.touches[0].pagewidth:t.clientX)/window.innerWidth*100;n>=30&&100-n>30&&e.setLeftSizeInPercentage(n)}}}}),w=Object(he.a)(u.prototype,"handleMouseUp",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsDragging(!1),document.body.removeEventListener("mousemove",e.handleMouseMove),document.body.removeEventListener("touchmove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),window.removeEventListener("touchend",e.handleMouseUp)}}}),Object(he.a)(u.prototype,"computedLeftWidth",[_e.computed],Object.getOwnPropertyDescriptor(u.prototype,"computedLeftWidth"),u.prototype),Object(he.a)(u.prototype,"leftStyle",[_e.computed],Object.getOwnPropertyDescriptor(u.prototype,"leftStyle"),u.prototype),Object(he.a)(u.prototype,"rightStyle",[_e.computed],Object.getOwnPropertyDescriptor(u.prototype,"rightStyle"),u.prototype),u),De=n("sF6c"),Ae=function(e){var t,n,r,i,o,a;return fe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.lessonId,n=e.enrollmentId,r=e.quizId,i=e.attempt,o=void 0,s.next=4,fe.a.awrap(Ee.a.requestGraphql('\n    mutation {\n      gradeQuiz(input: {\n        lessonId: "'+t+'",\n        enrollmentId: "'+n+'",\n        quizId: "'+r+'",\n        attempt: '+JSON.stringify(Object(De.b)(i))+"\n      })\n    }\n  "));case 4:return(a=s.sent).errors&&0!==a.errors.length||(o=!!a.data.gradeQuiz),s.abrupt("return",o);case 7:case"end":return s.stop()}}))},Fe=function(e){var t,n,r,i,o;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.lessonId,n=e.quizId,r=e.attempt,i=void 0,a.next=4,fe.a.awrap(Ee.a.requestGraphql('\n    mutation {\n      nonMemberGradeQuiz(input: {\n        lessonId: "'+t+'",\n        quizId: "'+n+'",\n        attempt: '+JSON.stringify(Object(De.b)(r))+"\n      })\n    }\n  "));case 4:return(o=a.sent).errors&&0!==o.errors.length||(i=!!o.data.nonMemberGradeQuizApi),a.abrupt("return",i);case 7:case"end":return a.stop()}}))},Pe=n("wjrT"),ze=n("Sd71"),Me=function(e){var t,n,r;return fe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=void 0,i.next=3,fe.a.awrap(Ee.a.requestGraphql('{\n    studyNoteById(id: "'+e+'") {\n      '+ge.a.SINGLE_LESSON_STUDYNOTE_ATTR()+"\n    }\n  }"));case 3:return r=i.sent,(null===(t=r.data)||void 0===t?void 0:t.studyNoteById)&&(n=r.data.studyNoteById),i.abrupt("return",n);case 6:case"end":return i.stop()}}))};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Object(de.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=Ne.a.intlStringFactory(["ClassroomStore_REPORT_ERROR","ClassroomStore_BOOKMARK_CREATE_ERROR","ClassroomStore_BOOKMARK_DELETE_ERROR","ClassroomStore_ENTER_LESSON_ERROR"]),Ue=(j=function e(t){var n=this;Object(me.a)(this,e),this.quizResultBannerStore=void 0,this.loadingStore=void 0,this.splitViewStore=void 0,Object(be.a)(this,"classroomType",N,this),Object(be.a)(this,"hasValidEnrollment",T,this),Object(be.a)(this,"isPreview",L,this),Object(be.a)(this,"isSingleTopic",k,this),Object(be.a)(this,"courseInfo",R,this),Object(be.a)(this,"isBookmarked",x,this),Object(be.a)(this,"isSideNavOpen",D,this),Object(be.a)(this,"selfCheckIsOpened",A,this),Object(be.a)(this,"currentInfo",F,this),Object(be.a)(this,"files",P,this),Object(be.a)(this,"nextLessonId",z,this),Object(be.a)(this,"previousLessonId",M,this),Object(be.a)(this,"lessonRating",B,this),Object(be.a)(this,"xpMessage",q,this),Object(be.a)(this,"setDefault",Q,this),Object(be.a)(this,"checkEditorOpened",U,this),Object(be.a)(this,"initCurrentInfo",H,this),this.getCourseInfo=function(){return n.courseInfo},Object(be.a)(this,"initCourseInfo",G,this),Object(be.a)(this,"initPreview",W,this),Object(be.a)(this,"setSelfCheckOpened",V,this),Object(be.a)(this,"setClassroomType",J,this),Object(be.a)(this,"toggleSideNav",K,this),this.forTrialUser=function(){var e;return Object(Oe.Cb)()&&(null===(e=n.currentInfo)||void 0===e?void 0:e.trialLesson)},this.isClassroomTypeReview=function(){return"review"===n.classroomType},this.getReviewClassroomUtm=function(){return"default"===n.classroomType?"":"/review"},Object(be.a)(this,"checkSelfCheckOpened",Y,this),Object(be.a)(this,"onClickBookmark",X,this),Object(be.a)(this,"toggleBookmark",Z,this),Object(be.a)(this,"checkTopicVersion",$,this),Object(be.a)(this,"changeNumStars",ee,this),Object(be.a)(this,"setPrevAndNextLesson",te,this),Object(be.a)(this,"changeLessonPassed",ne,this),Object(be.a)(this,"setLessonRating",re,this),Object(be.a)(this,"setXpMessage",ie,this),this.isActionUnavailable=function(){return!n.hasValidEnrollment||n.isPreview},this.getLessonNum=function(){var e,t=0,r=0;return("default"===n.classroomType?n.currentInfo.chapter.lessons:null===(e=n.courseInfo)||void 0===e?void 0:e.reassembledLessons).map((function(e){Object(Oe.m)(e,"default"===n.classroomType?n.courseInfo:null)&&(t++,e.id===n.currentInfo.id)&&(r=t)})),r>9?r:"0"+r},Object(be.a)(this,"createReport",oe,this),Object(be.a)(this,"bookmarkLessonApi",ae,this),Object(be.a)(this,"deleteBookmarkLessonApi",se,this),Object(be.a)(this,"getMyLesson",le,this),Object(be.a)(this,"checkSolvedInQuiz",ce,this),this.checkQuizDoneByAttempts=function(e){return e.filter((function(e){return e.pass})).length===(n.currentInfo.quizQuestions?n.currentInfo.quizQuestions.filter((function(e){return e.type!==ve.e.DESCRIPTION})).length:0)},Object(be.a)(this,"clickGradeQuiz",ue,this),this.quizResultBannerStore=t||new Le,this.loadingStore=new ke.a,this.splitViewStore=new xe},N=Object(he.a)(j.prototype,"classroomType",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),T=Object(he.a)(j.prototype,"hasValidEnrollment",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=Object(he.a)(j.prototype,"isPreview",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=Object(he.a)(j.prototype,"isSingleTopic",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=Object(he.a)(j.prototype,"courseInfo",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),x=Object(he.a)(j.prototype,"isBookmarked",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=Object(he.a)(j.prototype,"isSideNavOpen",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(he.a)(j.prototype,"selfCheckIsOpened",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=Object(he.a)(j.prototype,"currentInfo",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(Te.a)()}}),P=Object(he.a)(j.prototype,"files",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=Object(he.a)(j.prototype,"nextLessonId",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=Object(he.a)(j.prototype,"previousLessonId",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=Object(he.a)(j.prototype,"lessonRating",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(he.a)(j.prototype,"xpMessage",[_e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=Object(he.a)(j.prototype,"setDefault",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.loadingStore.setIsLoading(!1),e.splitViewStore.setDefault(),e.hasValidEnrollment=!1,e.isPreview=!1,e.isSingleTopic=!0,e.courseInfo=void 0,e.isBookmarked=!1,e.isSideNavOpen=!1,e.selfCheckIsOpened=!1,e.currentInfo=Object(Te.a)(),e.files=[],e.nextLessonId="",e.previousLessonId="",e.lessonRating=!1,e.xpMessage=""}}}),U=Object(he.a)(j.prototype,"checkEditorOpened",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.splitViewStore,n=t.getIsSplitMode,r=t.setIsRightClosed;(0,t.setSplitModeByWidth)(),r(!n()||!e.currentInfo.editorOpened&&"EXERCISE"!==e.currentInfo.type)}}}),H=Object(he.a)(j.prototype,"initCurrentInfo",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.setDefault(),t&&(e.currentInfo=t,e.hasValidEnrollment=n,e.isBookmarked=e.currentInfo.bookmark,e.setLessonRating(!!e.currentInfo.studyNote&&["COMPLETED_CONTENT","PASSED"].includes(e.currentInfo.studyNote.status)),e.setPrevAndNextLesson(),Object(_e.runInAction)((function(){null!==e.currentInfo&&(!e.files.length&&e.currentInfo.files&&(e.files=e.currentInfo.files),e.currentInfo.rate||(e.currentInfo.rate={score:0}))})),e.checkEditorOpened(),e.checkSelfCheckOpened(),n||e.checkTopicVersion())}}}),G=Object(he.a)(j.prototype,"initCourseInfo",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.courseInfo=t,e.isSingleTopic=!1,e.setPrevAndNextLesson()}}}),W=Object(he.a)(j.prototype,"initPreview",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isPreview=!0,e.setLessonRating(!1)}}}),V=Object(he.a)(j.prototype,"setSelfCheckOpened",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.selfCheckIsOpened=t}}}),J=Object(he.a)(j.prototype,"setClassroomType",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.classroomType=t}}}),K=Object(he.a)(j.prototype,"toggleSideNav",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.isSideNavOpen;e.isSideNavOpen=t}}}),Y=Object(he.a)(j.prototype,"checkSelfCheckOpened",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.currentInfo.type==ve.h.EXERCISE&&e.currentInfo.gradingType==ve.b.SELF&&e.currentInfo.guides){var t=0;e.currentInfo.guides.map((function(e){e.checked&&t++})),t>0?e.setSelfCheckOpened(!0):e.setSelfCheckOpened(!1)}}}}),X=Object(he.a)(j.prototype,"onClickBookmark",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Object(Oe.Cb)()&&(null===(t=e.currentInfo)||void 0===t?void 0:t.trialLesson)?we.a.getInstance().setCurrentPopup(Ce.b.invalidEnrollment):e.isPreview||e.toggleBookmark();case 1:case"end":return n.stop()}}))}}}),Z=Object(he.a)(j.prototype,"toggleBookmark",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.isBookmarked?e.deleteBookmarkLessonApi():e.bookmarkLessonApi().then((function(){we.a.getInstance().setCurrentPopup(Ce.b.lessonBookmarkCompleted)}));case 1:case"end":return t.stop()}}))}}}),$=Object(he.a)(j.prototype,"checkTopicVersion",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,r,i;return fe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(r=null===(t=e.currentInfo)||void 0===t?void 0:null===(n=t.topic)||void 0===n?void 0:n.slug)){o.next=12;break}return o.prev=2,o.next=5,fe.a.awrap(Ee.a.requestGraphql('{\n          topicByResourceKey(key: "'+r+'") {id slug title seqId}\n          '+ye.a.NEW_VERSION(r)+"\n          "+ye.a.OLD_VERSION(r)+"\n        }"));case 5:i=o.sent,Object(_e.runInAction)((function(){if(i.errors.length>0)Object(Oe.b)("error in checkTopicVersion : ",i);else{var t=i.data,n=t.topicByResourceKey,r=t.newVersionTopic,o=t.oldVersionTopic;if(!n&&(r||o)){var a,s,l=r?r.slug:o.slug,c=r?Ce.c.newTopicLesson:Ce.c.oldTopicLesson;Ie.a.push((null===(a=e.courseInfo)||void 0===a?void 0:a.slug)?"/courses/[c_slug]/topics/[t_slug]?popup="+c:"/topics/[t_slug]?popup="+c,(null===(s=e.courseInfo)||void 0===s?void 0:s.slug)?"/courses/"+e.courseInfo.slug+"/topics/"+l+"?popup="+c:"/topics/"+l+"?popup="+c)}}})),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),Object(Oe.b)("error in checkTopicVersion : ",o.t0);case 12:case"end":return o.stop()}}),null,null,[[2,9]])}}}),ee=Object(he.a)(j.prototype,"changeNumStars",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.currentInfo.rate.score=t;case 1:case"end":return n.stop()}}))}}}),te=Object(he.a)(j.prototype,"setPrevAndNextLesson",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.currentInfo.topic.chapters){var t,n=[];if("default"===e.classroomType)null===(t=e.currentInfo)||void 0===t||t.topic.chapters.map((function(t){Object(je.a)(t)&&t.lessons.map((function(t){(null===t||void 0===t?void 0:t.seqId)&&Object(Oe.m)(t,e.courseInfo)&&(e.forTrialUser()?t.trialLesson&&n.push(t.seqId):n.push(t.seqId))}))}));else if("review"===e.classroomType){var r,i;null===(r=e.courseInfo)||void 0===r||null===(i=r.reassembledLessons)||void 0===i||i.map((function(e){Object(Oe.m)(e,null)&&n.push(e.seqId)}))}var o=function(t){return t===e.currentInfo.seqId};e.nextLessonId=n.findIndex(o)+1>=n.length?"LAST":n[n.findIndex(o)+1],e.previousLessonId=0===n.findIndex(o)?"FIRST":n[n.findIndex(o)-1]}}}}),ne=Object(he.a)(j.prototype,"changeLessonPassed",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return fe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.forTrialUser()){r.next=2;break}return r.abrupt("return");case 2:n=qe({},e.currentInfo.studyNote),t?"PASSED"!==n.status&&(n.status="PASSED",e.currentInfo.topic.enrollment.passedLessonCount+=1):(n.status="COMPLETED_CONTENT",e.currentInfo.topic.enrollment.passedLessonCount-=1),Object(_e.runInAction)((function(){Object(_e.set)(e.currentInfo,"studyNote",n)}));case 5:case"end":return r.stop()}}))}}}),re=Object(he.a)(j.prototype,"setLessonRating",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n,r,i,o;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.lessonRating=t,!t||"DEFAULT"!==(null===(n=e.currentInfo)||void 0===n?void 0:null===(r=n.studyNote)||void 0===r?void 0:r.status)){a.next=12;break}return a.prev=2,a.next=5,fe.a.awrap(Ee.a.requestGraphql('mutation {\n          completedContent( studyNoteId: "'+(null===(i=e.currentInfo)||void 0===i?void 0:null===(o=i.studyNote)||void 0===o?void 0:o.id)+'") {id}\n        }'));case 5:a.sent.data&&Object(_e.runInAction)((function(){e.currentInfo.studyNote.status="COMPLETED_CONTENT"})),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),Object(Oe.b)("error setLessonRating in NCS:: ",a.t0);case 12:case"end":return a.stop()}}),null,null,[[2,9]])}}}),ie=Object(he.a)(j.prototype,"setXpMessage",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.currentInfo&&e.currentInfo.userXp?e.xpMessage="":(e.xpMessage=t,e.currentInfo.userXp=t);case 1:case"end":return n.stop()}}))}}}),oe=Object(he.a)(j.prototype,"createReport",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t,n){var r;return fe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fe.a.awrap(Ee.a.requestGraphql('\n        mutation {\n          createReport(lessonId: "'+e+'", content: '+JSON.stringify(Object(Oe.I)(t))+") {\n            id\n            content\n          }\n        }\n      "));case 3:r=i.sent,Object(_e.runInAction)((function(){r.errors.length>0||!r.data.createReport?alert(Qe.ClassroomStore_REPORT_ERROR):n()})),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),alert(Qe.ClassroomStore_REPORT_ERROR);case 10:case"end":return i.stop()}}),null,null,[[0,7]])}}}),ae=Object(he.a)(j.prototype,"bookmarkLessonApi",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.awrap(Ee.a.requestGraphql('\n        mutation {\n          bookmarkLesson(lessonId: "'+e.currentInfo.id+'") {\n            '+ge.a.SINGLE_LESSON_ATTR()+"\n          }\n        }\n      "));case 3:t=n.sent,Object(_e.runInAction)((function(){t.errors.length>0||null==t.data.bookmarkLesson?alert(Qe.ClassroomStore_BOOKMARK_CREATE_ERROR):e.isBookmarked=!0})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(Qe.ClassroomStore_BOOKMARK_CREATE_ERROR);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}}),se=Object(he.a)(j.prototype,"deleteBookmarkLessonApi",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.a.awrap(Ee.a.requestGraphql('\n        mutation {\n          deleteBookmarkLesson(lessonId: "'+e.currentInfo.id+'") {\n            '+ge.a.SINGLE_LESSON_ATTR()+"\n          }\n        }\n      "));case 3:t=n.sent,Object(_e.runInAction)((function(){t.errors.length>0||null==t.data.deleteBookmarkLesson?alert(Qe.ClassroomStore_BOOKMARK_DELETE_ERROR):e.isBookmarked=!1})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(Qe.ClassroomStore_BOOKMARK_DELETE_ERROR);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}}),le=Object(he.a)(j.prototype,"getMyLesson",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r;return fe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fe.a.awrap(Ee.a.requestGraphql("{\n        "+ge.a.GET_MY_LESSON(t,n)+"\n      }"));case 3:r=i.sent,Object(_e.runInAction)((function(){r.errors.length>0||null===r.data.enterLesson?alert(Qe.ClassroomStore_ENTER_LESSON_ERROR):e.currentInfo=r.data.enterLesson})),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),alert(Qe.ClassroomStore_ENTER_LESSON_ERROR);case 10:case"end":return i.stop()}}),null,null,[[0,7]])}}}),ce=Object(he.a)(j.prototype,"checkSolvedInQuiz",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.currentInfo.quizQuestions)if(e.forTrialUser()){var t=[];e.currentInfo.quizQuestions.filter((function(e){return e.type!==ve.e.DESCRIPTION})).map((function(e){return t.push(e.id)})),Object(Pe.c)(ze.a.currentQuiz,JSON.stringify(t))}else!e.isPreview&&e.currentInfo.studyNote&&"DEFAULT"===e.currentInfo.studyNote.status&&e.currentInfo.studyNote.quizAttempts&&e.checkQuizDoneByAttempts(e.currentInfo.studyNote.quizAttempts)&&e.changeLessonPassed(!0)}}}),ue=Object(he.a)(j.prototype,"clickGradeQuiz",[_e.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r,i,o,a,s,l,c,u;return fe.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=void 0,!e.forTrialUser()){d.next=8;break}return d.next=4,fe.a.awrap(Fe({lessonId:e.currentInfo.id,quizId:t,attempt:n}));case 4:(r=d.sent)&&(i=[],(o=Object(Pe.a)(ze.a.currentQuiz))&&(i=JSON.parse(o)),i.splice(i.findIndex((function(e){return e===e})),1),Object(Pe.c)(ze.a.currentQuiz,JSON.stringify(i)),0===i.length&&e.setLessonRating(!0)),d.next=16;break;case 8:return d.next=10,fe.a.awrap(Ae({lessonId:e.currentInfo.id,enrollmentId:(null===(a=e.currentInfo.topic)||void 0===a?void 0:null===(s=a.enrollment)||void 0===s?void 0:s.id)?null===(l=e.currentInfo.topic)||void 0===l?void 0:null===(c=l.enrollment)||void 0===c?void 0:c.id:"",quizId:t,attempt:n}));case 10:if(!(r=d.sent)||!e.currentInfo.studyNote){d.next=16;break}return d.next=14,fe.a.awrap(Me(e.currentInfo.studyNote.id));case 14:(u=d.sent)&&(Object(_e.runInAction)((function(){Object(_e.set)(e.currentInfo,"studyNote",u)})),e.checkQuizDoneByAttempts(u.quizAttempts)&&e.setLessonRating(!0));case 16:return d.abrupt("return",r);case 17:case"end":return d.stop()}}))}}}),j);t.a=Ue},"2qu3":function(e,t,n){"use strict";var r=n("/GRZ"),i=n("i2R6"),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("q1tI")),s=n("8L3h"),l=n("jwwS"),c=[],u=[],d=!1;function p(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=p(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function b(e,t){return a.default.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function m(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:b,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new h(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!d&&"function"===typeof n.webpack){var o=n.webpack();u.push((function(e){var t=!0,n=!1,r=void 0;try{for(var a,s=o[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;if(-1!==e.indexOf(l))return i()}}catch(c){n=!0,r=c}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}}))}var c=function(e,t){i();var o=a.default.useContext(l.LoadableContext),c=s.useSubscription(r);return a.default.useImperativeHandle(t,(function(){return{retry:r.retry}})),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),c.loading||c.error?a.default.createElement(n.loading,{isLoading:c.loading,pastDelay:c.pastDelay,timedOut:c.timedOut,error:c.error,retry:r.retry}):c.loaded?n.render(c.loaded,e):null};return c.preload=function(){return i()},c.displayName="LoadableComponent",a.default.forwardRef(c)}var h=function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()})).catch((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=Object.assign(Object.assign({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return Object.assign(Object.assign({},this._state),{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function g(e){return m(p,e)}function _(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return _(e,t)}))}g.Map=function(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return m(f,e)},g.preloadAll=function(){return new Promise((function(e,t){_(c).then(e,t)}))},g.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return d=!0,t()};_(u,e).then(n,n)}))},window.__NEXT_PRELOADREADY=g.preloadReady,t.default=g},"2rMq":function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},"2zs7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,i=n("2rMq");var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=a},"303J":function(e,t,n){"use strict";function r(e){return e instanceof Array?o(e):i(e)}function i(e){var t="{";for(var n in e){var r=e[n];t="string"==typeof r?t.concat(n,': "',r,'", '):r instanceof Array?t.concat(n,":",o(r),", "):t.concat(n,":",i(r),", ")}return 1===t.length?"{}":t.substr(0,t.length-2).concat("}")}function o(e){var t="[";return e.forEach((function(e){return t=t.concat(i(e),", ")})),1===t.length?"[]":t.substr(0,t.length-2).concat("]")}n.d(t,"a",(function(){return r}))},"3G6F":function(e,t,n){},"3Jua":function(e,t,n){},"5k8Z":function(e,t,n){},"75fB":function(e,t,n){},"9rZX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("qFS3"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},D46v:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("q1tI"),i=n.n(r),o=n("TyAF"),a=(n("GImT"),i.a.createElement),s=Object(o.c)((function(e){var t=e.isSplitMode,n=e.isRightClosed,r=e.isDragging,o=e.pressButton,s=e.releaseButton;return t?a(i.a.Fragment,null,a("div",{className:"ClassroomLayoutHandler--divider--background",onTouchStart:o,onTouchEnd:s,onMouseDown:o,onMouseUp:s},a("button",{className:"ClassroomLayoutHandler--divider "+(n?"ClassroomLayoutHandler--divider--right":"ClassroomLayoutHandler--divider--center")},a("img",{style:n?{transform:"rotate(180deg)"}:{},src:"/static/images/icons/page-"+(r?"drag":"onOff")+".svg"})))):a(i.a.Fragment,null)})),l=n("+sTJ"),c=n("ZicW"),u=n("Ta05"),d=(n("TGH7"),n("xxJ7")),p=n("Mpw+"),f=i.a.createElement,b=Object(o.b)("classroomStore","sizeStore")(Object(o.c)((function(e){var t=p.a.intlStringFactory(["common_loading"]),n=e.sizeStore,i=n.windowSizes,o=n.windowWidth,a=n.numberedWindowSizes,b=e.classroomStore,m=b.onClickBookmark,h=b.currentInfo,g=b.isBookmarked,_=b.isPreview,v=e.classroomStore.splitViewStore,O=v.setIsSplitMode,E=v.getIsSplitMode,y=v.getLeftSizeInPercentage,S=v.getIsRightClosed,I=v.getIsDragging,C=v.toggleIsRightClosed,w=v.leftStyle,j=v.rightStyle,N=v.pressDragButton,T=v.releaseDragButton;return Object(r.useEffect)((function(){a&&O(a>3)}),[a,"object"]),i?f("div",{className:"ClassroomContent"},f("div",{className:"ClassroomContent__left "+(o*y()/100<600?"S":o*y()/100<992?"M":"L")+"\n        ",style:w,id:"ClassroomContent__left"},f(l.a,{type:"lesson",className:(E()&&S()?"ClassroomContent__fullBookmark":"")+"\n          ",isChecked:!_&&g,toggleBookmark:m}),f(u.a,null),"NULL"!==h.language&&f(s,{isSplitMode:E(),isRightClosed:S(),isDragging:I(),pressButton:N,releaseButton:T})),"NULL"!==h.language&&f("div",{className:"ClassroomContent__right "+(S()?"ClassroomContent__right--isClosed":""),style:j},f("div",{className:"ClassroomContent__right--closeEditorBtn",onClick:C}),f(d.a,{hasConsole:!0,isPreview:_}))):f(c.a,{title:t.common_loading})})))},D6xn:function(e,t,n){},E4Z0:function(e,t,n){var r,i,o;i=[t],void 0===(o="function"===typeof(r=function(e){"use strict";var t,n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};!function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"}(t||(t={}));var r=function(){function e(){this.VERSION="4.0.4",this.setup_palettes(),this._use_classes=!1,this._escape_for_html=!0,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escape_for_html",{get:function(){return this._escape_for_html},set:function(e){this._escape_for_html=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(e){this._url_whitelist=e},enumerable:!0,configurable:!0}),e.prototype.setup_palettes=function(){var e=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(t){t.forEach((function(t){e.palette_256.push(t)}))}));for(var t=[0,95,135,175,215,255],n=0;n<6;++n)for(var r=0;r<6;++r)for(var i=0;i<6;++i){var o={rgb:[t[n],t[r],t[i]],class_name:"truecolor"};this.palette_256.push(o)}for(var a=8,s=0;s<24;++s,a+=10){var l={rgb:[a,a,a],class_name:"truecolor"};this.palette_256.push(l)}},e.prototype.escape_txt_for_html=function(e){return e.replace(/[&<>]/gm,(function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":void 0}))},e.prototype.append_buffer=function(e){var t=this._buffer+e;this._buffer=t},e.prototype.get_next_packet=function(){var e={kind:t.EOS,text:"",url:""},r=this._buffer.length;if(0==r)return e;var o=this._buffer.indexOf("\x1b");if(-1==o)return e.kind=t.Text,e.text=this._buffer,this._buffer="",e;if(o>0)return e.kind=t.Text,e.text=this._buffer.slice(0,o),this._buffer=this._buffer.slice(o),e;if(0==o){if(1==r)return e.kind=t.Incomplete,e;var a=this._buffer.charAt(1);if("["!=a&&"]"!=a)return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if("["==a){if(this._csi_regex||(this._csi_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \x1b[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \x1b[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\x1f:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(c=this._buffer.match(this._csi_regex)))return e.kind=t.Incomplete,e;if(c[4])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;""!=c[1]||"m"!=c[3]?e.kind=t.Unknown:e.kind=t.SGR,e.text=c[2];var s=c[0].length;return this._buffer=this._buffer.slice(s),e}if("]"==a){if(r<4)return e.kind=t.Incomplete,e;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.raw[0],i=r.replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(i,"g")}(n(["\n                        (?:                         # legal sequence\n                          (\x1b\\)                    # ESC                           |                           # alternate\n                          (\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\x06]                 # anything illegal\n                          |                           # alternate\n                          [\b-\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\x1c-\x1f]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var l=this._osc_st.exec(this._buffer);if(null===l)return e.kind=t.Incomplete,e;if(l[3])return e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;var c,u=this._osc_st.exec(this._buffer);return null===u?(e.kind=t.Incomplete,e):u[3]?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(this._osc_regex||(this._osc_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                        \x1b]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                        ([!-~]+)              # TEXT capture\n                        \x1b]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\x1b\\)                  # ESC                           |                           # alternate\n                          (?:\x07)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x21-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(c=this._buffer.match(this._osc_regex))?(e.kind=t.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e):(e.kind=t.OSCURL,e.url=c[1],e.text=c[2],s=c[0].length,this._buffer=this._buffer.slice(s),e))}}},e.prototype.ansi_to_html=function(e){this.append_buffer(e);for(var n=[];;){var r=this.get_next_packet();if(r.kind==t.EOS||r.kind==t.Incomplete)break;r.kind!=t.ESC&&r.kind!=t.Unknown&&(r.kind==t.Text?n.push(this.transform_to_html(this.with_state(r))):r.kind==t.SGR?this.process_ansi(r):r.kind==t.OSCURL&&n.push(this.process_hyperlink(r)))}return n.join("")},e.prototype.with_state=function(e){return{bold:this.bold,fg:this.fg,bg:this.bg,text:e.text}},e.prototype.process_ansi=function(e){for(var t=e.text.split(";");t.length>0;){var n=t.shift(),r=parseInt(n,10);if(isNaN(r)||0===r)this.fg=this.bg=null,this.bold=!1;else if(1===r)this.bold=!0;else if(22===r)this.bold=!1;else if(39===r)this.fg=null;else if(49===r)this.bg=null;else if(r>=30&&r<38)this.fg=this.ansi_colors[0][r-30];else if(r>=40&&r<48)this.bg=this.ansi_colors[0][r-40];else if(r>=90&&r<98)this.fg=this.ansi_colors[1][r-90];else if(r>=100&&r<108)this.bg=this.ansi_colors[1][r-100];else if((38===r||48===r)&&t.length>0){var i=38===r,o=t.shift();if("5"===o&&t.length>0){var a=parseInt(t.shift(),10);a>=0&&a<=255&&(i?this.fg=this.palette_256[a]:this.bg=this.palette_256[a])}if("2"===o&&t.length>2){var s=parseInt(t.shift(),10),l=parseInt(t.shift(),10),c=parseInt(t.shift(),10);if(s>=0&&s<=255&&l>=0&&l<=255&&c>=0&&c<=255){var u={rgb:[s,l,c],class_name:"truecolor"};i?this.fg=u:this.bg=u}}}}},e.prototype.transform_to_html=function(e){var t=e.text;if(0===t.length)return t;if(this._escape_for_html&&(t=this.escape_txt_for_html(t)),!e.bold&&null===e.fg&&null===e.bg)return t;var n=[],r=[],i=e.fg,o=e.bg;e.bold&&n.push("font-weight:bold"),this._use_classes?(i&&("truecolor"!==i.class_name?r.push(i.class_name+"-fg"):n.push("color:rgb("+i.rgb.join(",")+")")),o&&("truecolor"!==o.class_name?r.push(o.class_name+"-bg"):n.push("background-color:rgb("+o.rgb.join(",")+")"))):(i&&n.push("color:rgb("+i.rgb.join(",")+")"),o&&n.push("background-color:rgb("+o.rgb+")"));var a="",s="";return r.length&&(a=' class="'+r.join(" ")+'"'),n.length&&(s=' style="'+n.join(";")+'"'),"<span"+s+a+">"+t+"</span>"},e.prototype.process_hyperlink=function(e){var t=e.url.split(":");return t.length<1?"":this._url_whitelist[t[0]]?'<a href="'+this.escape_txt_for_html(e.url)+'">'+this.escape_txt_for_html(e.text)+"</a>":""},e}();function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r})?r.apply(t,i):r)||(e.exports=o)},FPlf:function(e,t,n){},GFtf:function(e,t,n){},GImT:function(e,t,n){},ICqg:function(e,t,n){},IEBa:function(e,t,n){},"J/A8":function(e,t,n){},JNvJ:function(e,t,n){},JcDS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=(n("3G6F"),r.createElement);function o(e){var t=e.onSelect,n=e.textList,r=e.darkMode;return i("div",{className:"DropdownContent"+(r?" dark":"")},n.map((function(e,n){return i("button",{key:n,className:"DropdownContent__item",onClick:function(n){n.stopPropagation(),t(e)}},e)})))}o.defaultProps={darkMode:!1};var a=o},L0Mw:function(e,t,n){},MD5h:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n.n(r),o=n("4HrR"),a=n("YFqc"),s=n.n(a),l=n("blDw"),c=n("Mpw+"),u=i.a.createElement,d=function(e){var t=c.a.intlStringFactory(["QuestionLessonHierarchy_normal_question","QuestionLessonHierarchy_empty_title","QuestionLessonHierarchy_no_category"]),n=e.data,r=e.length,a=e.linkAllowed,d=e.className,p=void 0===d?"Community":d,f=n.category,b=n.lesson,m=n.course,h=b&&m?m:null;return f?u("div",{className:p+"QuestionHead__lessonHierarchy"},f==l.d.GENERAL&&u(o.a,{text:t.QuestionLessonHierarchy_normal_question,length:r,className:p+"QuestionHead__lessonHierarchy--text"}),f===l.d.CONTENT_RELATED?b?u(i.a.Fragment,null,u(o.a,{text:b.topic?b.topic.title:t.QuestionLessonHierarchy_empty_title,length:r,className:p+"QuestionHead__lessonHierarchy--text"}),u("span",{className:p+"QuestionHead__lessonHierarchy--divider"},">"),u(o.a,{text:b.chapter?b.chapter.title:t.QuestionLessonHierarchy_empty_title,length:r,className:p+"QuestionHead__lessonHierarchy--text"}),u("span",{className:p+"QuestionHead__lessonHierarchy--divider"},">"),a?u(s.a,{href:h?"/learn/courses/[c_slug]/[id]":"/learn/[id]",as:h?"/learn/courses/"+h.slug+"/"+b.seqId:"/learn/"+b.seqId,prefetch:!1},u("a",null,u(o.a,{text:b.title,length:r,className:p+"QuestionHead__lessonHierarchy--text CommunityQuestionHead__lessonHierarchy--text--link"}))):u(o.a,{text:b.title,length:r,className:p+"QuestionHead__lessonHierarchy--text"})):u(o.a,{text:t.QuestionLessonHierarchy_empty_title,length:r,className:p+"QuestionHead__lessonHierarchy--text"}):u(i.a.Fragment,null),f===l.d.ANNOUNCEMENT&&u(i.a.Fragment,null)):u("div",{className:p+"QuestionHead__lessonHierarchy"},u(o.a,{text:t.QuestionLessonHierarchy_no_category,length:999,className:p+"QuestionHead__lessonHierarchy--text"}))}},N0Jn:function(e,t,n){},NDGH:function(e,t,n){},O6t1:function(e,t,n){},PKFY:function(e,t,n){},QEso:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),s=h(a),l=h(n("17x9")),c=m(n("VKEO")),u=h(n("S1to")),d=m(n("Ye7m")),p=m(n("fbhf")),f=h(n("2zs7")),b=h(n("UIKY"));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}n("WkvU");var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},_=9,v=27,O=0,E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&p.remove(document.body,o),i&&p.remove(document.getElementsByTagName("html")[0],i),r&&O>0&&0===(O-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),b.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===_&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===v&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&p.add(document.body,i),r&&p.add(document.getElementsByTagName("html")[0],r),n&&(O+=1,d.hide(t)),b.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=n?{}:o.content,l=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);E.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},E.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=E,e.exports=t.default},"QH+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n.n(r),o=n("EXd0"),a=n("qpav"),s=n("cBaE"),l=i.a.createElement,c=function(e){var t=e.content,n=e.writerRole,r=e.updatedAt,i=e.className,c=void 0===i?"":i;return l(o.a,{className:c,content:t,isPro:a.e.ROLE_ADMIN==n||a.e.ROLE_TA==n||Object(s.V)(r)})}},QugU:function(e,t,n){},S1to:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if("undefined"===typeof(r=n[c]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n("ZDLa"),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},TGH7:function(e,t,n){},Ta05:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pt}));var r,i,o,a,s,l,c,u,d,p,f,b,m,h,g,_,v,O,E,y,S,I,C,w,j,N,T,L,k,R,x,D,A,F,P,z,M,B,q,Q,U,H,G,W,V,J,K,Y,X,Z,$,ee,te,ne,re,ie,oe,ae,se,le=n("yO8D"),ce=n("q1tI"),ue=n.n(ce),de=n("TyAF"),pe=n("y257"),fe=(n("ICqg"),n("rzrn")),be=n("Z/8h"),me=n("qpav"),he=n("cBaE"),ge=n("Mpw+"),_e=ue.a.createElement,ve=Object(de.c)((function(e){var t=ge.a.intlStringFactory(["PopupLessonReport_PLACEHOLDER","PopupLessonReport_REPORT","PopupLessonReport_TITLE"]),n=e.onClickSubmit,r=Object(ce.useState)(""),i=r[0],o=r[1];return _e(be.a,{notClosedWithBtn1:!0,className:"PopupLessonReport",popupTitle:pe.b.lessonReport,content:_e("div",{className:"PopupLessonReport__content"},_e("textarea",{className:"PopupLessonReport__content--textarea",value:i,onChange:function(e){return o(e.target.value)},placeholder:t.PopupLessonReport_PLACEHOLDER})),isEnterAvailable:!1,btnType:"3d",btnText:t.PopupLessonReport_REPORT,btnFunc:function(){""==i?fe.a.getInstance().setSecondPopup(pe.b.errorEmptyContentSecond):(o(""),n(i))},hasCloseBtn:!0,hasIcon:!0,iconType:"alert",iconPosition:"title",title:t.PopupLessonReport_TITLE,isDark:Object(me.a)(Object(he.k)().theme)})})),Oe=n("YFqc"),Ee=n.n(Oe),ye=n("KQm4"),Se=n("dsHz"),Ie=n("blDw"),Ce=n("0Q9O"),we=(n("vSX7"),n("MD5h")),je=n("/r/D"),Ne=ue.a.createElement,Te=Object(de.b)("sizeStore","userStore","popupStore")(Object(de.c)((function(e){var t=ge.a.intlStringFactory(["LessonQuestion_URL_COPIED_MESSAGE","LessonQuestion_WRITE","LessonQuestion_RECOMMEND","LessonQuestion_LOOK_UP","LessonQuestion_SHARE"]),n=e.data,r=e.headOnly,i=void 0===r||r,o=e.className,a=void 0===o?"":o,s=e.sizeStore,l=e.linkAllowed,c=e.addTag,u=s.windowWidth,d=Object(he.ob)(n.createdAt),p=!(!e.userStore.logged||!Object(Ce.k)());return Ne("div",{className:"LessonQuestionHead "+a+" "+(p&&n.status===Ie.e.HIDDEN?"hidden":""),key:n.id},Ne("div",{className:"LessonQuestionHead__header"},Ne("div",{className:"LessonQuestionHead__header--text"},Ne("span",{className:"LessonQuestionHead__header--hierarchy"},Ne(we.a,{length:u<768?5:30,data:n,linkAllowed:l,className:"Lesson"})),Ne("div",{className:"LessonQuestionHead__title"},l?Ne(Ee.a,{href:"/community/threads/[t_id]",as:"/community/threads/"+n.seqId,prefetch:!1},Ne("a",{className:"LessonQuestionHead__title--text"},Ne("span",null,Object(he.O)(d)<259200&&!n.isResolved&&Ne("span",{className:"LessonQuestionHead__title--new"},u<768?"N":"NEW"),n.title))):Ne("span",{className:"LessonQuestionHead__title--text"},n.title),Ne("div",{className:"LessonQuestionHead__header--avatar Mobile"},Ne(Se.a,{user:n.writer,showRank:!1,isTextLengthController:!0,isRight:!0}))),Ne("div",{className:"LessonQuestionHead__createdTime"},Object(he.Q)(d)+t.LessonQuestion_WRITE)),Ne("div",{className:"LessonQuestionHead__header--avatar NonMobile"},Ne(Se.a,{user:n.writer,showRank:!i,isTextLengthController:!0,isRight:!0}))),Ne("div",{className:"LessonQuestionHead__footer"},Ne("div",{className:"LessonQuestionHead__tags "+(i||(!n.tags||0!=n.tags.length)&&n.tags?"":"noTag")},n.tags&&n.tags.map((function(e){return Ne("span",{className:"LessonQuestionHead__tags--each",key:e.id,onClick:function(){c&&c(e.tag)}},"#",e.tag)}))),i?Ne("div",{className:"LessonQuestionHead__counts"},Ne("span",{className:"LessonQuestionHead__counts--each like"},Object(he.jb)(n.totalLikeCount?n.totalLikeCount:0)+" "+t.LessonQuestion_RECOMMEND),Ne(je.a,{answer:n.answers?n.answers.length:0,resolved:!!n.acceptedAnswerId,className:"LessonQuestionHead"}),Ne("span",{className:"LessonQuestionHead__counts--each view"},Object(he.jb)(n.viewCount?n.viewCount:0)+t.LessonQuestion_LOOK_UP)):Ne("div",{className:"LessonQuestionHead__counts Thread CR__hidden--ML"},Ne(je.a,{answer:n.answers?n.answers.length:0,resolved:!!n.acceptedAnswerId,className:"LessonQuestionHead"}),Ne("span",{className:"LessonQuestionHead__counts--each threadView"},n.viewCount+" "+t.LessonQuestion_LOOK_UP),Ne("span",{className:"LessonQuestionHead__counts--each share",onClick:function(){var e=document.createElement("textarea");e.value=window.document.location.href,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),fe.a.getInstance().setShortPopup(t.LessonQuestion_URL_COPIED_MESSAGE)}},t.LessonQuestion_SHARE))))}))),Le=n("QH+a"),ke=(n("b45W"),ce.createElement),Re=Object(de.c)((function(){return ke("svg",{className:"ChevronRight",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 8"},ke("path",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.3",d:"M1.6 1.6L6.4 1.6 6.4 6.4",transform:"scale(1 -1) rotate(45 13.657 0)"}))})),xe=ue.a.createElement,De=function(e){var t=e.data,n=e.isOpen,r=e.toggleQuestion,i=ge.a.intlStringFactory(["LessonRelatedQuestionEach_GO_TO_QUESTION","LessonRelatedQuestionEach_QUESTION_NOT_SOLVED","LessonRelatedQuestionEach_DO_YOU_KNOW_ANSWER","LessonRelatedQuestionEach_GO_TO_ANSWER","LessonRelatedQuestionEach_BEST_ANSWER","LessonRelatedQuestionEach_RECOMMEND"]),o=Object(he.ob)(t.createdAt),a=Object(ce.useState)({x:0,y:0,clicked:!1}),s=a[0],l=a[1],c=function(){var e=null;if(t.acceptedAnswerId&&t.answers&&t.answers.length>0&&(e=t.answers.find((function(e){return e.id===t.acceptedAnswerId}))),!e){var n=Object(ye.a)(t.answers);n.sort((function(e,t){return t.likeCount-e.likeCount})),e=n[0]}return e};return xe("div",{onMouseDown:function(e){return function(e){l({x:e.pageX,y:e.pageY,clicked:!0})}(e)},onMouseUp:function(e){return function(e){if(s.clicked){var t=s.x,n=s.y;Math.sqrt(Math.pow(e.pageX-t,2)+Math.pow(e.pageY-n,2))<20&&r()}l({x:0,y:0,clicked:!1})}(e)},className:"LessonRelatedQuestion__each"},xe("div",{className:"LessonRelatedQuestion__each--q"},xe(Te,{data:t,headOnly:!0,linkAllowed:!1,className:"LessonRelatedQuestion__each--qHead"}),xe("div",{className:"LessonRelatedQuestion__each--qBody "+(n?"":"disappear")},xe(Le.a,{content:t.content,writerRole:t.writer.role,updatedAt:t.contentUpdatedAt}),xe("div",{className:"LessonRelatedQuestion__each--qBody--linkRow"},xe(Ee.a,{href:"/community/threads/[t_id]",as:"/community/threads/"+t.seqId,prefetch:!1},xe("a",{target:"_blank"},xe("div",{className:"LessonRelatedQuestion__each--qBody--link"},i.LessonRelatedQuestionEach_GO_TO_QUESTION," ",xe(Re,null))))))),xe("div",{className:"LessonRelatedQuestion__each--a "+(n?"":"disappear")},null==c()?xe("div",{className:"LessonRelatedQuestion__each--aEmpty"},xe("div",{className:"LessonRelatedQuestion__each--aEmpty--text"},i.LessonRelatedQuestionEach_QUESTION_NOT_SOLVED,xe("span",null," ",i.LessonRelatedQuestionEach_DO_YOU_KNOW_ANSWER)),xe(Ee.a,{href:"/community/threads/[t_id]",as:"/community/threads/"+t.seqId,prefetch:!1},xe("a",null,xe("div",{className:"LessonRelatedQuestion__each--aEmpty--link"},i.LessonRelatedQuestionEach_GO_TO_ANSWER)))):xe("div",{className:"LessonRelatedQuestion__each--aUnempty"},xe(Ee.a,{href:"/community/threads/[t_id]",as:"/community/threads/"+t.seqId,prefetch:!1},xe("a",{target:"_blank"},xe("h2",{className:"LessonRelatedQuestion__each--aUnempty__title"},i.LessonRelatedQuestionEach_BEST_ANSWER))),xe(Le.a,{content:c().content,writerRole:c().writer.role,updatedAt:c().updatedAt}),xe("div",{className:"LessonRelatedQuestion__each--footer"},xe("div",{className:"LessonRelatedQuestion__each--footer__likeCounter"},xe("img",{src:"/static/images/icons/answer--like.svg"}),i.LessonRelatedQuestionEach_RECOMMEND+" "+c().likeCount),xe("div",{className:"LessonRelatedQuestion__each--footer--avatarWrapper"},xe("div",{className:"LessonRelatedQuestion__each--footer--text"},xe(Se.a,{user:c().writer,showImage:!1}),xe("span",{className:"LessonRelatedQuestion__each--footer--time"},Object(he.Q)(o)+" "+i.LessonRelatedQuestionEach_WRITE)),xe(Se.a,{user:c().writer,showName:!1,showRank:!1}))))))},Ae=(n("NDGH"),ue.a.createElement),Fe=function(e){var t=ge.a.intlStringFactory(["LessonRelatedQuestionEmpty_LEAVE_QUESTION","LessonRelatedQuestionEmpty_QUESTION"]),n=e.lessonSeqId,r=e.isSingleTopic,i=e.courseSlug;return Ae("div",{className:"LessonRelatedQuestionEmpty"},Ae("p",{className:"LessonRelatedQuestionEmpty--text"},t.LessonRelatedQuestionEmpty_LEAVE_QUESTION),Ae(Ee.a,{href:r?"/community/write/[id]":"/community/write/[id]?course="+i,as:r?"/community/write/"+n:"/community/write/"+n+"?course="+i,prefetch:!1},Ae("a",null,Ae("button",{className:"LessonRelatedQuestionEmpty--btn"},Ae("img",{alt:"post icon",src:"/static/images/community/post.png",width:22,height:22}),t.LessonRelatedQuestionEmpty_QUESTION))))},Pe=(n("a2CE"),ue.a.createElement),ze=Object(de.b)("popupStore","classroomStore")(Object(de.c)((function(e){var t=ge.a.intlStringFactory(["LessonRelatedQuestion_QUESTION","LessonRelatedQuestion_RELATED_QUESTION","LessonRelatedQuestion_SEE_MORE_QUESTION"]),n=e.relatedQuestionData,r=e.lessonSeqId,i=e.lessonId,o=e.popupStore.setCurrentPopup,a=e.classroomStore,s=a.createReport,l=a.isSingleTopic,c=a.courseInfo,u=n?n.filter((function(e){return e.status==Ie.e.PUBLISHED})):[],d=Object(ce.useState)(-1),p=d[0],f=d[1];Object(ce.useEffect)((function(){f(-1)}),[r]);var b=Object(de.c)((function(){return Pe("button",{className:"LessonRelatedQuestion__btns--each LessonRelatedQuestion__btns--submit",onClick:Object(he.Cb)()?function(){return fe.a.getInstance().setCurrentPopup(pe.b.invalidEnrollment)}:function(){}},Pe("img",{alt:"post icon",src:"/static/images/community/post.png",width:22,height:22}),t.LessonRelatedQuestion_QUESTION)}));return Pe("div",{className:"LessonRelatedQuestion"},Pe(ve,{onClickSubmit:function(e){return s(i,e,(function(){return o(pe.b.lessonReportCompleted)}))}}),Pe("div",{className:"LessonRelatedQuestion__title"},t.LessonRelatedQuestion_RELATED_QUESTION),u&&u.length>0?Pe("div",{className:"LessonRelatedQuestion__eachWrapper"},u.map((function(e,t){return Pe(De,{key:t,data:e,isOpen:t===p,toggleQuestion:function(){return function(e){f(e===p?-1:e)}(t)}})}))):Pe(Fe,{lessonSeqId:r,isSingleTopic:l,courseSlug:l?"":c.slug}),Pe("div",{className:"LessonRelatedQuestion__btns"},u&&u.length>0&&Pe(ue.a.Fragment,null,Pe(Ee.a,{href:l?"/community?lesson="+r:"/community?lesson="+r+"&course="+c.slug,as:l?"/community?lesson="+r:"/community?lesson="+r+"&course="+c.slug,prefetch:!1},Pe("a",null,Pe("button",{className:"LessonRelatedQuestion__btns--each LessonRelatedQuestion__btns--cancel"},t.LessonRelatedQuestion_SEE_MORE_QUESTION))),Object(he.Cb)()?Pe(b,null):Pe(Ee.a,{href:l?"/community/write/[id]":"/community/write/[id]?course="+c.slug,as:l?"/community/write/"+r:"/community/write/"+r+"?course="+c.slug,prefetch:!1},Pe("a",null,Pe(b,null))))))}))),Me=n("nOHt"),Be=n("+d86"),qe=n("1OyB"),Qe=n("vuIU"),Ue=n("md7G"),He=n("foSv"),Ge=n("Ji7U"),We=n("a3ss"),Ve=n("Y65e"),Je=(n("+JCI"),n("2vnA")),Ke=n("UFex"),Ye=(r=function e(){Object(qe.a)(this,e),Object(We.a)(this,"studyNote",i,this),Object(We.a)(this,"solved",o,this),Object(We.a)(this,"point",a,this),Object(We.a)(this,"init",s,this),Object(We.a)(this,"reset",l,this),Object(We.a)(this,"fetchPoint",c,this),Object(We.a)(this,"setRetry",u,this),Object(We.a)(this,"calcPoint",d,this)},i=Object(Ve.a)(r.prototype,"studyNote",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=Object(Ve.a)(r.prototype,"solved",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=Object(Ve.a)(r.prototype,"point",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(Ve.a)(r.prototype,"init",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t?(e.studyNote=t,e.fetchPoint(e.studyNote.sawExplanation,e.studyNote.sawHints?e.studyNote.sawHints.length:0),e.solved=["COMPLETED_CONTENT","PASSED"].includes(t.status)):e.point=Ke.a.question}}}),l=Object(Ve.a)(r.prototype,"reset",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.studyNote={},e.solved=!1,e.point=0}}}),c=Object(Ve.a)(r.prototype,"fetchPoint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.point=Ke.a.question,t&&e.calcPoint(Ke.a.showSolution),e.calcPoint(Ke.a.showHint*n)}}}),u=Object(Ve.a)(r.prototype,"setRetry",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.solved=!1}}}),d=Object(Ve.a)(r.prototype,"calcPoint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.point=e.point+t}}}),r),Xe=n("o0o1"),Ze=n.n(Xe),$e=n("vDqi"),et=n.n($e),tt=n("aak0"),nt=ge.a.intlStringFactory(["ContentSupporterStore_SHOWING_HINT_ERROR","ContentSupporterStore_SHOWING_SOLUTION_ERROR","ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR"]),rt=(p=function e(){var t=this;Object(qe.a)(this,e),Object(We.a)(this,"ownId",f,this),Object(We.a)(this,"courseData",b,this),Object(We.a)(this,"points",m,this),Object(We.a)(this,"hints",h,this),Object(We.a)(this,"explanation",g,this),Object(We.a)(this,"sawHints",_,this),Object(We.a)(this,"sawExplanation",v,this),Object(We.a)(this,"studyNoteId",O,this),Object(We.a)(this,"isExercise",E,this),Object(We.a)(this,"hintsOpen",y,this),Object(We.a)(this,"solutionOpen",S,this),Object(We.a)(this,"fetchPoint",I,this),Object(We.a)(this,"solved",C,this),Object(We.a)(this,"init",w,this),Object(We.a)(this,"resetStore",j,this),Object(We.a)(this,"toggleHints",N,this),Object(We.a)(this,"toggleSolution",T,this),Object(We.a)(this,"setSolved",L,this),Object(We.a)(this,"showSolution",k,this),Object(We.a)(this,"seeExplanationByType",R,this),Object(We.a)(this,"seeHintByType",x,this),Object(We.a)(this,"getNextHintId",D,this),Object(We.a)(this,"seeHintInTrial",A,this),Object(We.a)(this,"seeExplanationInTrial",F,this),Object(We.a)(this,"seeExerciseHint",P,this),Object(We.a)(this,"seeQuizHint",z,this),this.hasExplanationLimit=function(){var e,n,r;return!(!t.courseData||!Object(he.Bb)()||"NONE"===(null===(e=Object(he.k)())||void 0===e?void 0:null===(n=e.business)||void 0===n?void 0:null===(r=n.explanationLimit)||void 0===r?void 0:r.type))},this.getRemainingExplanationLimit=function(){var e;return(null===(e=t.courseData)||void 0===e?void 0:e.courseEnrollment)?t.courseData.courseEnrollment.remainingExplanationLimit:0},this.setPopupForExplanation=function(){t.isExercise&&t.hasExplanationLimit()&&0===t.getRemainingExplanationLimit()?fe.a.getInstance().setCurrentPopup(pe.b.explanationUnavailable+t.ownId):fe.a.getInstance().setCurrentPopup("CSConfirm__solution__"+t.ownId)},Object(We.a)(this,"seeExplanation",M,this),Object(We.a)(this,"seeQuizExplanation",B,this)},f=Object(Ve.a)(p.prototype,"ownId",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=Object(Ve.a)(p.prototype,"courseData",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=Object(Ve.a)(p.prototype,"points",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=Object(Ve.a)(p.prototype,"hints",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=Object(Ve.a)(p.prototype,"explanation",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=Object(Ve.a)(p.prototype,"sawHints",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=Object(Ve.a)(p.prototype,"sawExplanation",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=Object(Ve.a)(p.prototype,"studyNoteId",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=Object(Ve.a)(p.prototype,"isExercise",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=Object(Ve.a)(p.prototype,"hintsOpen",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(Ve.a)(p.prototype,"solutionOpen",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(Ve.a)(p.prototype,"fetchPoint",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),C=Object(Ve.a)(p.prototype,"solved",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Object(Ve.a)(p.prototype,"init",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r,i,o,a,s,l,c,u,d){var p=i;e.resetStore(),e.ownId=t,e.points=n,e.hints=r,e.explanation=p,e.sawHints=[],e.hints.map((function(t){o.includes(t.id)&&e.sawHints.push(t.id)})),e.studyNoteId=a,e.isExercise=s,e.sawExplanation=l,e.fetchPoint=u,e.solved=c,e.courseData=d}}}),j=Object(Ve.a)(p.prototype,"resetStore",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.ownId="",e.points={},e.hints=[],e.explanation="",e.sawHints=[],e.sawExplanation=!1,e.studyNoteId="",e.isExercise=!1,e.hintsOpen=!1,e.solutionOpen=!1,e.fetchPoint=function(){},e.solved=!1,e.courseData=null}}}),N=Object(Ve.a)(p.prototype,"toggleHints",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.hintsOpen;e.hintsOpen=t,e.solutionOpen=!1}}}),T=Object(Ve.a)(p.prototype,"toggleSolution",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.solutionOpen;e.solutionOpen=t,e.hintsOpen=!1}}}),L=Object(Ve.a)(p.prototype,"setSolved",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.solved=t}}}),k=Object(Ve.a)(p.prototype,"showSolution",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.hintsOpen=!1,e.solutionOpen=!0}}}),R=Object(Ve.a)(p.prototype,"seeExplanationByType",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.seeExplanationInTrial():e.isExercise?e.seeExplanation():e.seeQuizExplanation()}}}),x=Object(Ve.a)(p.prototype,"seeHintByType",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?e.seeHintInTrial():e.isExercise?e.seeExerciseHint():e.seeQuizHint()}}}),D=Object(Ve.a)(p.prototype,"getNextHintId",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){for(var t=0;t<e.hints.length;t++)if(!e.sawHints.includes(e.hints[t].id))return e.hints[t].id}}}),A=Object(Ve.a)(p.prototype,"seeHintInTrial",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.getNextHintId();e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(t),e.fetchPoint(e.sawExplanation,e.sawHints.length)}}}),F=Object(Ve.a)(p.prototype,"seeExplanationInTrial",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length)}}}),P=Object(Ve.a)(p.prototype,"seeExerciseHint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n;return Ze.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.getNextHintId(),r.prev=1,r.next=4,Ze.a.awrap(et()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(he.j)("cat")},data:'\n        mutation {\n          seeExerciseHint(studyNoteId: "'+e.studyNoteId+'", hintId: "'+t+'") {\n            '+tt.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"}));case 4:n=r.sent,Object(Je.runInAction)((function(){n.data.errors.length>0||!n.data.data.seeExerciseHint?(Object(he.b)("error in seeExerciseHint : ",n),alert(nt.ContentSupporterStore_SHOWING_HINT_ERROR)):(e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(t),e.fetchPoint(e.sawExplanation,e.sawHints.length))})),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),Object(he.b)("error in seeExerciseHint : ",r.t0),alert(nt.ContentSupporterStore_SHOWING_HINT_ERROR);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}}),z=Object(Ve.a)(p.prototype,"seeQuizHint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n;return Ze.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.getNextHintId(),r.prev=1,r.next=4,Ze.a.awrap(et()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(he.j)("cat")},data:'\n        mutation {\n          seeQuizHint(studyNoteId: "'+e.studyNoteId+'", hintId: "'+t+'", quizId: "'+e.ownId+'") {\n            '+tt.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"}));case 4:n=r.sent,Object(Je.runInAction)((function(){n.data.errors.length>0||!n.data.data.seeQuizHint?(Object(he.b)("error in seeQuizHint : ",n),alert(nt.ContentSupporterStore_SHOWING_HINT_ERROR)):(e.solutionOpen=!1,e.hintsOpen=!0,e.sawHints.push(t),e.fetchPoint(e.sawExplanation,e.sawHints.length))})),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),Object(he.b)("error in seeQuizHint : ",r.t0),alert(nt.ContentSupporterStore_SHOWING_HINT_ERROR);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}}),M=Object(Ve.a)(p.prototype,"seeExplanation",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,r;return Ze.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ze.a.awrap(et()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(he.j)("cat")},data:'\n        mutation {\n          seeExplanation(\n            studyNoteId: "'+e.studyNoteId+'",\n            lessonId: "'+e.ownId+'",\n            '+((null===(t=e.courseData)||void 0===t?void 0:null===(n=t.courseEnrollment)||void 0===n?void 0:n.id)?'courseEnrollmentId: "'+e.courseData.courseEnrollment.id+'"':"")+"\n          ) {\n            "+tt.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"}));case 3:r=i.sent,Object(Je.runInAction)((function(){r.data.errors.length>0||!r.data.data.seeExplanation?(Object(he.b)("error in seeExplanation : ",r),alert(nt.ContentSupporterStore_SHOWING_SOLUTION_ERROR)):(e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length))})),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),Object(he.b)("error in seeExplanation : ",i.t0),alert(nt.ContentSupporterStore_SHOWING_SOLUTION_ERROR);case 11:case"end":return i.stop()}}),null,null,[[0,7]])}}}),B=Object(Ve.a)(p.prototype,"seeQuizExplanation",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return Ze.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ze.a.awrap(et()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(he.j)("cat")},data:'\n        mutation {\n          seeQuizExplanation(studyNoteId: "'+e.studyNoteId+'", quizId: "'+e.ownId+'") {\n            '+tt.a.SINGLE_LESSON_ATTR()+"\n          }\n        }"}));case 3:t=n.sent,Object(Je.runInAction)((function(){t.data.errors.length>0||!t.data.data.seeQuizExplanation?(Object(he.b)("error in seeQuizExplanation : ",t),alert(nt.ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR)):(e.solutionOpen=!0,e.hintsOpen=!1,e.sawExplanation=!0,e.fetchPoint(e.sawExplanation,e.sawHints.length))})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),Object(he.b)("error in seeQuizExplanation : ",n.t0),alert(nt.ContentSupporterStore_SHOWING_QUIZ_SOLUTION_ERROR);case 11:case"end":return n.stop()}}),null,null,[[0,7]])}}}),p),it=(n("FPlf"),n("pG1P"),n("kriW")),ot=ue.a.createElement,at=Object(de.c)((function(e){var t=e.contentSupporterStore,n=e.ownId,r=e.isTrialLesson,i=ge.a.intlStringFactory(["CSConfirmPopup_NEED_HINT","CSConfirmPopup_YES","CSConfirmPopup_NO","CSConfirmPopup_NEED_SOLUTION","CSConfirmPopup_SOLUTION_LIMIT_ALERT","CSConfirmPopup_REMAINING_EXPLANATION_LIMIT","CSConfirmPopup_CAN_NOT_SEE_SOLUTION","CSConfirmPopup_ALL_SOLUTION_CHANCE_USED"]),o=t.points,a=t.seeExplanationByType,s=t.seeHintByType,l=t.hasExplanationLimit,c=t.isExercise,u=t.getRemainingExplanationLimit;return ot(ue.a.Fragment,null,ot(be.a,{className:"CSConfirmPopup",popupTitle:"CSConfirm__hint__"+n,hasBtn2:!0,title:ot("div",{className:"CSConfirmPopup__title"},i.CSConfirmPopup_NEED_HINT),content:ot("div",{className:"CSConfirmPopup__text"},ot(it.a,{id:"CSConfirmPopup_MINUS_HINT_POINT",values:{hintPoint:ot("b",null,-1*o.showHint,"XP")}})),btnFunc:function(){return s(r)},btnText:i.CSConfirmPopup_YES,btn2Text:i.CSConfirmPopup_NO,btnType:"3d",isDark:Object(me.a)(Object(he.k)().theme)}),ot(be.a,{className:"CSConfirmPopup",popupTitle:"CSConfirm__solution__"+n,hasBtn2:!0,title:ot("div",{className:"CSConfirmPopup__title"},i.CSConfirmPopup_NEED_SOLUTION,c&&l()&&" ("+u()+i.CSConfirmPopup_REMAINING_EXPLANATION_LIMIT+")"),content:ot("div",{className:"CSConfirmPopup__text"},l()&&c?ot(ue.a.Fragment,null,i.CSConfirmPopup_SOLUTION_LIMIT_ALERT):ot(it.a,{id:"CSConfirmPopup_MINUS_HINT_POINT",values:{hintPoint:ot("b",null,-1*o.showSolution,"XP")}})),btnFunc:function(){return a(r)},btnText:i.CSConfirmPopup_YES,btn2Text:i.CSConfirmPopup_NO,btnType:"3d",isDark:Object(me.a)(Object(he.k)().theme)}),ot(be.a,{popupTitle:""+pe.b.explanationUnavailable+n,title:i.CSConfirmPopup_CAN_NOT_SEE_SOLUTION,content:i.CSConfirmPopup_ALL_SOLUTION_CHANCE_USED,hasIcon:!0,iconType:"alert",iconPosition:"top",isSmall:!0,isDark:Object(me.a)(Object(he.k)().theme)}))})),st=(n("PKFY"),n("EXd0")),lt=ce.createElement,ct=function(e){var t=ge.a.intlStringFactory(["HintViewer_HINT"]),n=Object(ce.useState)(0),r=n[0],i=n[1];return Object(ce.useEffect)((function(){i(e.hintsUsed-1)}),[e.hintsUsed]),lt("div",{className:"HintViewer--container"},lt("div",{className:"HintViewer--list"},e.hintList.map((function(n,o){if(o<e.hintsUsed)return lt("button",{key:o,className:o===r?"selected":"",onClick:function(){i(o)}},lt("span",null,t.HintViewer_HINT)," ",o+1)}))),lt("div",{className:"HintViewer--content"},e.hintList.map((function(e,t){if(t===r)return lt("div",{key:t},lt(st.a,{isPro:!0,content:e.content||""}))}))))},ut=ce.createElement,dt=function(e){function t(e){var n,r;if(Object(qe.a)(this,t),(r=Object(Ue.a)(this,Object(He.a)(t).call(this,e))).contentSupporterStore=void 0,r.classroomStore=void 0,!e.classroomStore)return Object(Ue.a)(r);var i=e.ownId,o=e.points,a=e.hints,s=e.solution,l=e.isExercise,c=void 0!==l&&l,u=e.studyNoteId,d=e.sawHints,p=e.sawSolution,f=e.fetchPoint,b=e.solved;return r.contentSupporterStore=new rt,r.contentSupporterStore.init(i,o,a,s,d,u,c,p,b,f,null===(n=e.classroomStore)||void 0===n?void 0:n.courseInfo),r}return Object(Ge.a)(t,e),Object(Qe.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.ownId!==this.contentSupporterStore.ownId||this.props.studyNoteId!==this.contentSupporterStore.studyNoteId){var t=this.props,n=t.ownId,r=t.points,i=t.hints,o=t.solution,a=t.isExercise,s=void 0!==a&&a,l=t.studyNoteId,c=t.sawHints,u=t.sawSolution,d=t.fetchPoint,p=t.solved,f=t.classroomStore;this.contentSupporterStore.init(n,r,i,o,c,l,s,u,p,d,null===f||void 0===f?void 0:f.courseInfo)}this.props.solved!==this.contentSupporterStore.solved&&(this.contentSupporterStore.setSolved(this.props.solved),this.contentSupporterStore.toggleHints(!1),this.props.solved?(this.contentSupporterStore.toggleSolution(!0),setTimeout((function(){return e.props.classroomStore.splitViewStore.setIsRightClosed(!0)}),1e3)):this.contentSupporterStore.toggleSolution(!1))}},{key:"componentWillUnmount",value:function(){this.contentSupporterStore.resetStore()}},{key:"render",value:function(){var e,t=this,n=ge.a.intlStringFactory(["ContentSupporter_HINT","ContentSupporter_SEE_SOLUTION","ContentSupporter_EXAM_SOLUTION","ContentSupporter_QUIZ_SOLUTION"]),r=this.contentSupporterStore,i=r.ownId,o=r.points,a=r.hintsOpen,s=r.solutionOpen,l=r.toggleSolution,c=r.toggleHints,u=r.sawExplanation,d=r.sawHints,p=r.explanation,f=r.solved,b=r.hints,m=r.setPopupForExplanation,h=this.props,g=h.isExercise,_=void 0!==g&&g,v=h.isPassed,O=h.children,E=this.props.popupStore.setCurrentPopup,y=null===(e=this.props.classroomStore)||void 0===e?void 0:e.forTrialUser();return ut("div",{className:"ContentSupporter "+(_?"exercise":"quiz")},b&&b.length>0&&ut("div",{className:"ContentSupporter__hintAndSolutionWrapper"},ut("div",{className:"ContentSupporter__hintWrapper"},ut("div",{className:"ContentSupporter__hintContainerStatus "+(a?"":"close"),onClick:function(){return c(!1)}}),ut("div",{className:"ContentSupporter__showHintBtn",onClick:function(){!y&&t.props.classroomStore&&t.props.classroomStore.isActionUnavailable()?E(pe.b.invalidEnrollment):(0===d.length||d.length<b.length&&a)&&!v?E("CSConfirm__hint__"+i):c()}},ut("div",{className:"ContentSupporter__warningIcon ContentSupporter__warningIcon--step"+(d.length<2?d.length:2)},ut("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 53 53"},ut("g",null,ut("g",null,ut("circle",{className:"ContentSupporter__warningIcon__background",cx:"26.5",cy:"26.5",r:"26.5"}),ut("path",{className:"ContentSupporter__warningIcon__exclamation",d:"M23.77,11.25h5.46L28.64,32.8h-4.2ZM24,36.83h5v4.92H24Z"}))))),ut("span",{className:"ContentSupporter__hintStatus"},n.ContentSupporter_HINT,ut("span",null,v?b.length:d.length,"/",b.length)),ut("br",null)))),!_&&b&&b.length>0&&a&&ut(ct,{hintList:b,hintsUsed:f?b.length:d.length}),O,p&&ut("button",{className:"\n                ContentSupporter__showSolutionBtn\n                ContentSupporter__showSolutionBtn"+(_?"--exercise":"--quiz")+"\n                "+(v||u?"ContentSupporter__showSolutionBtn--passed":"")+"\n              ",onClick:function(){!y&&t.props.classroomStore&&t.props.classroomStore.isActionUnavailable()?E(pe.b.invalidEnrollment):u||v?l():m()}},v||u?n.ContentSupporter_SEE_SOLUTION:ut("span",null,n.ContentSupporter_SEE_SOLUTION,ut("br",null)," (",o.showSolution,"XP)")),p&&s&&ut("div",{className:"ContentSupporter__solution"},f&&ut(ce.Fragment,null),ut("div",{className:"ContentSupporter__containerHeader"},_?n.ContentSupporter_EXAM_SOLUTION:n.ContentSupporter_QUIZ_SOLUTION,ut("img",{className:"ContentSupporter__closeSolution",onClick:function(){return l(!1)},alt:"close solution tab",src:"/static/images/icons/x.png"})),ut("div",{className:"ContentSupporter__containerContent"},ut(le.a,{isPro:!0,content:p||""}))),_&&b&&b.length>0&&a&&ut(ct,{hintList:b,hintsUsed:f?b.length:d.length}),ut(at,{contentSupporterStore:this.contentSupporterStore,ownId:i,isTrialLesson:y}))}}]),t}(ce.Component),pt=Object(de.b)("popupStore","classroomStore")(Object(de.c)(dt)),ft=(n("N0Jn"),n("eds+"),n("rW1U")),bt=n("WJ1q"),mt=n("rig7"),ht=ue.a.createElement,gt=Object(de.b)("userStore")(Object(de.c)((function(e){var t=ge.a.intlStringFactory(["ExerciseViewerSelfCheck_SELF_CHECK","ExerciseViewerSelfCheck_CHECK_ITEMS"]),n=e.lessonId,r=e.enrollmentId,i=e.guides,o=e.studyNote,a=e.setLessonRating,s=Object(ce.useState)((null===o||void 0===o?void 0:o.selfCheckedGuides)?o.selfCheckedGuides:[]),l=s[0],c=s[1],u=Object(ce.useState)(null),d=u[0],p=u[1];Object(ce.useEffect)((function(){(null===o||void 0===o?void 0:o.selfCheckedGuides)&&(null===o||void 0===o?void 0:o.selfCheckedGuides.length)===i.length&&!["COMPLETED_CONTENT","PASSED"].includes(o.status)&&a(!0)}),[]);var f=function(e,t){var o;return Ze.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Ze.a.awrap(ft.a.requestGraphql("\n        mutation {\n          "+(e?"submitGuideCheck":"cancelGuideCheck")+'(input: {\n            lessonId: "'+n+'"\n            enrollmentId: "'+r+'"\n            guideId: "'+t+'"\n          }) {\n            '+tt.a.SINGLE_LESSON_STUDYNOTE_ATTR()+"\n          }\n        }\n      "));case 3:(o=s.sent).errors.length>0||e&&null==o.data.submitGuideCheck||!e&&null==o.data.cancelGuideCheck?Object(he.b)("error in createCourse : ",o):e?(c(o.data.submitGuideCheck.selfCheckedGuides),o.data.submitGuideCheck.selfCheckedGuides.length==i.length&&(a(!0),p(!0),Object(he.b)(o))):c(o.data.cancelGuideCheck.selfCheckedGuides),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),Object(he.b)("error in toggleGuideApi : ",s.t0);case 10:case"end":return s.stop()}}),null,null,[[0,7]])};return ht(ue.a.Fragment,null,ht("div",{className:"ExerciseViewerSelfCheck",id:"ExerciseViewerSelfCheck"},ht("div",{className:"ExerciseViewerSelfCheck__txt"},ht("div",{className:"ExerciseViewerSelfCheck__txt--title"},ht("img",{alt:"purple check icon",src:"/static/images/classroom/check-purple.png"}),t.ExerciseViewerSelfCheck_SELF_CHECK),ht("div",{className:"ExerciseViewerSelfCheck__txt--content"},t.ExerciseViewerSelfCheck_CHECK_ITEMS)),ht("div",{className:"ExerciseViewerSelfCheck__box"},i.map((function(t,n){return ht("div",{key:n,className:"ExerciseViewerSelfCheck__box--each "+(l&&l.includes(t.id)?"checked":""),onClick:function(){return e=t.id,void(l&&l.includes(e)?f(!1,e):f(!0,e));var e}},ht("div",{className:"ExerciseViewerSelfCheck__box--each--left"},ht(bt.a,{state:l&&l.includes(t.id),message:"",updateCheckboxValue:function(){},checkboxColorSet:{borderStroke:"transparent",backgroundFill:Object(me.a)(e.userStore.currentUser.theme)?"#797b89":"#eeeef1",checkFill:"#7c00ff",selectedFill:"#f1d9ff"}})),ht("div",{className:"ExerciseViewerSelfCheck__box--each--right"},ht(le.a,{content:t.content})))})))),null!==d&&ht(mt.a,{isPass:d,setOff:function(){return p(null)},darkMode:Object(me.a)(Object(he.k)().theme)}))}))),_t=ce.createElement,vt=ge.a.intlStringFactory(["ExerciseViewer_NO_GUIDE_IN_SELF_CHECK","ExerciseViewer_EXERCISE"]),Ot=function(e){function t(e){var n;Object(qe.a)(this,t),(n=Object(Ue.a)(this,Object(He.a)(t).call(this,e))).exerciseStore=void 0;var r=e.classroomStore.currentInfo;return n.exerciseStore=new Ye,n.exerciseStore.init(r.studyNote),r.gradingType!==Be.b.SELF||r.guides&&0!==r.guides.length||alert(vt.ExerciseViewer_NO_GUIDE_IN_SELF_CHECK),n}return Object(Ge.a)(t,e),Object(Qe.a)(t,[{key:"componentDidUpdate",value:function(){var e,t;!(null===(e=this.props.classroomStore)||void 0===e?void 0:null===(t=e.currentInfo)||void 0===t?void 0:t.trialLesson)&&this.props.classroomStore.currentInfo.studyNote&&this.props.classroomStore.currentInfo.studyNote.id!==this.exerciseStore.studyNote.id&&this.exerciseStore.init(this.props.classroomStore.currentInfo.studyNote)}},{key:"componentWillUnmount",value:function(){this.exerciseStore.reset()}},{key:"render",value:function(){var e,t=this.exerciseStore,n=t.point,r=t.solved,i=t.studyNote,o=t.fetchPoint,a=this.props.classroomStore,s=a.currentInfo,l=a.selfCheckIsOpened,c=a.setLessonRating;return _t("div",{className:"ExerciseViewer",id:"ExerciseViewer"},_t("div",{className:"ExerciseViewer__header"},_t("div",{className:"ExerciseViewer__title"},vt.ExerciseViewer_EXERCISE),r||["COMPLETED_CONTENT","PASSED"].includes(i.status)||_t("div",{className:"ExerciseViewer__point"},n,"XP")),_t(le.a,{isPro:!0,content:s.content,footnotes:s.footnotes,className:"ExerciseViewer__content"}),s.gradingType===Be.b.SELF&&s.guides&&s.guides.length>0&&l&&_t(gt,{enrollmentId:null===(e=s.topic.enrollment)||void 0===e?void 0:e.id,lessonId:s.id,guides:s.guides,studyNote:s.studyNote,setLessonRating:c}),_t(pt,{solved:["COMPLETED_CONTENT","PASSED"].includes(i.status),fetchPoint:o,isExercise:!0,ownId:s.id,studyNoteId:i.id,points:Ke.a,isPassed:["COMPLETED_CONTENT","PASSED"].includes(i.status),solution:s.explanation,hints:s.hints?s.hints:[],sawSolution:i.sawExplanation,sawHints:i.sawHints?i.sawHints:[]}))}}]),t}(ce.Component),Et=Object(de.b)("classroomStore")(Object(de.c)(Ot)),yt=(n("D6xn"),n("/lYh")),St=n("hsDi"),It=ge.a.intlStringFactory(["QuizViewerStore_ERROR_IN_SCORING_QUIZ","QuizViewerStore_ERROR_IN_GET_QUIZ_RESULT"]),Ct=(q=function e(t,n){var r=this;Object(qe.a)(this,e),this.quizStore=void 0,Object(We.a)(this,"quizAttempt",Q,this),Object(We.a)(this,"myAnswer",U,this),Object(We.a)(this,"isSolved",H,this),Object(We.a)(this,"isSolvedBefore",G,this),Object(We.a)(this,"isSubmitted",W,this),Object(We.a)(this,"availablePoint",V,this),this.getQuizAttempt=function(){return r.quizAttempt},Object(We.a)(this,"setQuizAttempt",J,this),Object(We.a)(this,"setQuizAttemptByKeyValue",K,this),this.getMyAnswer=function(){return r.myAnswer},Object(We.a)(this,"setMyAnswer",Y,this),this.getIsSolved=function(){return r.isSolved},Object(We.a)(this,"setIsSolved",X,this),this.getIsSolvedBefore=function(){return r.isSolvedBefore},Object(We.a)(this,"setIsSolvedBefore",Z,this),this.getIsSubmitted=function(){return r.isSubmitted},Object(We.a)(this,"setIsSubmitted",$,this),this.getAvailablePoint=function(){return r.availablePoint},Object(We.a)(this,"setAvailablePoint",ee,this),Object(We.a)(this,"init",te,this),Object(We.a)(this,"reset",ne,this),Object(We.a)(this,"fetchPoint",re,this),Object(We.a)(this,"onChangeTextAnswer",ie,this),Object(We.a)(this,"onClickChoice",oe,this),Object(We.a)(this,"setRetry",ae,this),Object(We.a)(this,"afterGradeByResult",se,this),this.quizStore=new St.a,this.init(t,n)},Q=Object(Ve.a)(q.prototype,"quizAttempt",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(yt.getDefaultQuizAttempt)()}}),U=Object(Ve.a)(q.prototype,"myAnswer",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=Object(Ve.a)(q.prototype,"isSolved",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(Ve.a)(q.prototype,"isSolvedBefore",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(Ve.a)(q.prototype,"isSubmitted",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=Object(Ve.a)(q.prototype,"availablePoint",[Je.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=Object(Ve.a)(q.prototype,"setQuizAttempt",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.quizAttempt=t}}}),K=Object(Ve.a)(q.prototype,"setQuizAttemptByKeyValue",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){Object(Je.set)(e.quizAttempt,t,n)}}}),Y=Object(Ve.a)(q.prototype,"setMyAnswer",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.myAnswer=t}}}),X=Object(Ve.a)(q.prototype,"setIsSolved",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSolved=t}}}),Z=Object(Ve.a)(q.prototype,"setIsSolvedBefore",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSolvedBefore=t}}}),$=Object(Ve.a)(q.prototype,"setIsSubmitted",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isSubmitted=t}}}),ee=Object(Ve.a)(q.prototype,"setAvailablePoint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.availablePoint=t}}}),te=Object(Ve.a)(q.prototype,"init",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.setIsSolvedBefore(!!n.pass),e.setIsSolved(!!n.pass),e.quizStore.setQuizData(t),e.setQuizAttempt(n),e.fetchPoint(!(!n||!n.sawExplanation),n&&n.sawHints?n.sawHints.length:0)}}}),ne=Object(Ve.a)(q.prototype,"reset",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.quizStore.setQuizData(Object(yt.getDefaultQuizQuestion)()),e.quizAttempt=Object(yt.getDefaultQuizAttempt)(),e.setMyAnswer([]),e.setIsSolved(!1),e.setIsSolvedBefore(!1),e.setIsSubmitted(!1),e.setAvailablePoint(0)}}}),re=Object(Ve.a)(q.prototype,"fetchPoint",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=Ke.b.question;t&&(r+=Ke.b.showSolution),r+=Ke.b.showHint*n,e.setAvailablePoint(r)}}}),ie=Object(Ve.a)(q.prototype,"onChangeTextAnswer",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setIsSubmitted(!1);var n=[];t&&(n=t.includes(",")?1===e.quizStore.getQuizData().textAnswers.length&&1===e.quizStore.getQuizData().textAnswers[0].length?[t]:t.split(","):[t]),e.setMyAnswer(n)}}}),oe=Object(Ve.a)(q.prototype,"onClickChoice",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setIsSubmitted(!1);var n=e.getMyAnswer().slice();e.getMyAnswer().includes(t)?n=e.getMyAnswer().filter((function(e){return e!==t})):e.quizStore.getQuizData().answers&&1===e.quizStore.getQuizData().answers.length?n=[t]:n.push(t),e.setMyAnswer(n.sort())}}}),ae=Object(Ve.a)(q.prototype,"setRetry",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setMyAnswer([]),e.setIsSolved(!1),e.setIsSubmitted(!1)}}}),se=Object(Ve.a)(q.prototype,"afterGradeByResult",[Je.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){void 0===t?alert(It.QuizViewerStore_ERROR_IN_SCORING_QUIZ):(e.setIsSubmitted(!0),t?(e.setIsSolved(!0),e.setQuizAttemptByKeyValue("pass",!0)):e.setIsSolved(!1))}}}),q),wt=n("+7Px"),jt=(n("L0Mw"),n("TNd2")),Nt=n("Rhuy"),Tt=(n("O6t1"),ue.a.createElement),Lt=Object(de.c)((function(e){var t=e.content,n=e.className,r=void 0===n?"":n,i=Object(me.a)(Object(he.k)().theme),o=t.replace(/<a/gi,'<img alt="download data" src = "/static/images/classroom/download-data-'+(i?"dark":"light")+'.svg"/><a');return Tt(le.a,{isPro:!0,content:o,className:"QuizViewerDescription "+(r||"")})})),kt=ce.createElement,Rt=function(e){function t(e){var n;return Object(qe.a)(this,t),(n=Object(Ue.a)(this,Object(He.a)(t).call(this,e))).quizViewerStore=void 0,n.quizViewerStore=new Ct(e.quizQuestion,e.quizAttempt),n}return Object(Ge.a)(t,e),Object(Qe.a)(t,[{key:"componentDidUpdate",value:function(){this.quizViewerStore.quizStore.getQuizData().id!==this.props.quizQuestion.id&&this.quizViewerStore.init(this.props.quizQuestion,this.props.quizAttempt)}},{key:"componentWillUnmount",value:function(){this.quizViewerStore.reset()}},{key:"render",value:function(){var e=ge.a.intlStringFactory(["QuizViewer_INPUT_VALUE_ALERT","QuizViewer_QUESTION","QuizViewer_CHECK_ANSWER","QuizViewer_WRONG_ANSWER_MESSAGE"]),t=this.props,n=t.quizNumber,r=t.readOnly,i=t.clickGradeBtn,o=t.quizResultBannerStore,a=t.studyNodeId,s=this.quizViewerStore,l=s.getIsSolved,c=s.getIsSolvedBefore,u=s.getMyAnswer,d=s.getQuizAttempt,p=s.getAvailablePoint,f=s.getIsSubmitted,b=s.quizStore,m=s.setRetry,h=s.setIsSolvedBefore,g=s.fetchPoint,_=s.onChangeTextAnswer,v=s.onClickChoice,O=s.afterGradeByResult,E=function(){var t;return Ze.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}fe.a.getInstance().setCurrentPopup(pe.b.invalidEnrollment),n.next=18;break;case 4:if(!l()){n.next=9;break}m(),h(!0),n.next=18;break;case 9:if(u()!==[]){n.next=13;break}alert(e.QuizViewer_INPUT_VALUE_ALERT),n.next=18;break;case 13:if(!i){n.next=18;break}return n.next=16,Ze.a.awrap(i(b.getQuizData().id,u()));case 16:t=n.sent,O(t);case 18:case"end":return n.stop()}}))};return kt(de.a,{quizViewerStore:this.quizViewerStore},kt("div",{className:"QuizViewer"},b.getQuizData().type===Be.e.DESCRIPTION&&kt(Lt,{content:b.getQuizData().content}),b.getQuizData().type!==Be.e.DESCRIPTION&&kt(ce.Fragment,null,kt("div",{className:"QuizViewer__question"},kt("div",{className:"QuizViewer__num"},e.QuizViewer_QUESTION+" "+n,kt("div",{className:"QuizViewer__point"},p(),"XP")),kt(le.a,{content:function(e){return e.replace(/\uc798\ubabb/gi,"<u><b>\uc798\ubabb</b></u>").replace(/\uc54a\uc740/gi,"<u><b>\uc54a\uc740</b></u>").replace(/\uc633\uc740/gi,"<u><b>\uc633\uc740</b></u>")}(function(e){var t=d().pass?"":" ",n=e.lastIndexOf("</p>");return n>0?e.substring(0,n)+t+e.substring(n,e.length):e+t}(b.getQuizData().content)),isPro:!0})),kt("div",{className:"QuizViewer__supporter"},kt(pt,{solved:l(),isExercise:!1,ownId:b.getQuizData().id,studyNoteId:a||"isActionUnavailable",points:Ke.b,isPassed:d().pass,solution:b.getQuizData().explanation,hints:b.getQuizData().hints?b.getQuizData().hints:[],sawSolution:d().sawExplanation,sawHints:d().sawHints?d().sawHints:[],fetchPoint:g},kt("div",{className:"QuizViewer__ui"},b.getQuizData().type===Be.e.TEXT&&kt(jt.a,{xpPoint:p(),defaultAnswerArray:b.getQuizData().textAnswers[0],onChangeTextAnswer:_,myAnswer:u(),isSubmitted:f(),isSolvedBefore:c(),isSolved:l(),handleSubmitBtn:E,quizResultBannerStore:o}),b.getQuizData().type===Be.e.MULTIPLE&&kt(wt.a,{xpPoint:p(),myAnswer:u(),onClickChoice:v,isSubmitted:f(),isSolvedBefore:c(),isSolved:l(),handleSubmitBtn:E,quizQuestion:b.getQuizData(),quizResultBannerStore:o}),kt("div",{className:"QuizViewer__bottomContainer"},kt(Nt.a,{className:l()?"QuizViewer__submit--hide":"QuizViewer__submit",disabled:!u().length,onClickBtn:E,text:l()?"":e.QuizViewer_CHECK_ANSWER,isLink:!1}),f()&&!l()&&kt("p",{className:"QuizViewer__wrongAnswerMessage CR__hidden--S"},e.QuizViewer_WRONG_ANSWER_MESSAGE))))))))}}]),t}(ce.Component),xt=Object(de.b)("classroomStore")(Object(de.c)(Rt)),Dt=(n("GFtf"),ue.a.createElement),At=Object(de.c)((function(e){var t=e.quizQuestions,n=e.quizAttempts,r=e.clickGradeBtn,i=e.useEffectFunction,o=e.readOnly,a=void 0!==o&&o,s=e.hideContentSupporter,l=void 0!==s&&s,c=e.studyNodeId,u=e.quizResultBannerStore,d=1;return Object(ce.useEffect)((function(){i&&i()}),[]),Dt("div",{className:"QuizesViewer"},t&&t.map((function(e,t){return Dt("div",{key:t,className:"QuizesViewer__eachQuiz"},0!==t&&Dt("div",{className:"QuizesViewer__dividerLine"}),Dt(xt,{clickGradeBtn:r,quizQuestion:e,quizAttempt:(i=e.id,n&&n.find((function(e){return e.id==i}))||Object(yt.getDefaultQuizAttempt)()),quizNumber:e.type!==Be.e.DESCRIPTION?d++:0,readOnly:a,hideContentSupporter:l,quizResultBannerStore:u,studyNodeId:c}));var i})))})),Ft=(n("0FXL"),ue.a.createElement),Pt=Object(de.b)("classroomStore")(Object(de.c)((function(e){var t=ge.a.intlStringFactory(["LessonViewer_REPORT_ERROR"]),n=Object(Me.useRouter)().query,r=n.c_slug,i=n.l_id,o=e.isFinal,a=void 0!==o&&o,s=e.className,l=void 0===s?"":s,c=e.classroomStore,u=c.currentInfo,d=c.isPreview,p=c.loadingStore,f=c.clickGradeQuiz,b=c.checkSolvedInQuiz,m=c.isActionUnavailable,h=c.forTrialUser,g=c.quizResultBannerStore;return Object(ce.useEffect)((function(){window.setTimeout((function(){var e=document.getElementsByClassName("LessonViewer")[0];e&&(e.scrollTop=0)}),50);var e=document.querySelectorAll(".html-css-code");e&&e.length&&Object(he.gb)(e)}),[r,i]),p.getIsLoading()?Ft(ue.a.Fragment,null):Ft("div",{className:"LessonViewer \n        "+l+" \n        LessonViewer__"+u.type,id:"LessonViewer"},Ft("div",{className:"LessonViewer__contents"},function(){var e;switch(u.type){case Be.h.QUIZ:return Ft(At,{quizQuestions:u.quizQuestions?u.quizQuestions:[],quizAttempts:null===(e=u.studyNote)||void 0===e?void 0:e.quizAttempts,clickGradeBtn:f,useEffectFunction:b,readOnly:!h()&&m(),studyNodeId:(null===u||void 0===u?void 0:u.studyNote)?u.studyNote.id:void 0,quizResultBannerStore:g});case Be.h.EXERCISE:return Ft(Et,null);default:return Ft(le.a,{isPro:!0,content:u.content,footnotes:u.footnotes})}}(),!a&&!d&&u.seqId&&Ft(ze,{relatedQuestionData:u.relatedQuestions,lessonSeqId:u.seqId,lessonId:u.id})),Ft("div",{className:"LessonViewer__report--wrapper"},Ft("button",{className:"LessonViewer__report--button",onClick:function(){return fe.a.getInstance().setCurrentPopup(pe.b.lessonReport)}},t.LessonViewer_REPORT_ERROR)))})))},UFex:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r={question:30,showHint:-1,showSolution:-20},i={question:100,showHint:-1,showSolution:-60},o={course:2e3,topic:500}},UIKY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},VCL8:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},VGzu:function(e,t,n){},VKEO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,i=n("ZDLa"),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},WkvU:function(e,t,n){"use strict";var r,i=n("UIKY"),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}o.default.subscribe((function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},Ye7m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,i=n("2W6z"),o=(r=i)&&r.__esModule?r:{default:r},a=n("2zs7");var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},ZDLa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},ZrSz:function(e,t,n){},a2CE:function(e,t,n){},a6RD:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q1tI")),o=r(n("2qu3")),a=!1;function s(e,t){if(delete t.webpack,delete t.modules,!a)return e(t);var n=t.loading;return function(){return i.default.createElement(n,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}}t.noSSR=s,t.default=function(e,t){var n=o.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};if(e instanceof Promise?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=Object.assign(Object.assign({},r),e)),r=Object.assign(Object.assign({},r),t),"object"===typeof e&&!(e instanceof Promise)&&(e.render&&(r.render=function(t,n){return e.render(n,t)}),e.modules)){n=o.default.Map;var i={},a=e.modules();Object.keys(a).forEach((function(e){var t=a[e];"function"!==typeof t.then?i[e]=t:i[e]=function(){return t.then((function(e){return e.default||e}))}})),r.loader=i}if(r.loadableGenerated&&delete(r=Object.assign(Object.assign({},r),r.loadableGenerated)).loadableGenerated,"boolean"===typeof r.ssr){if(!r.ssr)return delete r.ssr,s(n,r);delete r.ssr}return n(r)}},aEeg:function(e,t,n){},aI5n:function(e,t,n){},b45W:function(e,t,n){},"eds+":function(e,t,n){},eq0I:function(e,t,n){},fbhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},i={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},feAP:function(e,t,n){},"hON/":function(e,t,n){},hsDi:function(e,t,n){"use strict";var r,i,o,a,s=n("a3ss"),l=n("1OyB"),c=n("Y65e"),u=(n("+JCI"),n("2vnA")),d=n("/lYh"),p=n("LvDl"),f=(r=function e(){var t=this;Object(l.a)(this,e),Object(s.a)(this,"quizData",i,this),this.getQuizData=function(){return t.quizData},Object(s.a)(this,"setQuizData",o,this),Object(s.a)(this,"setQuizDataByKey",a,this)},i=Object(c.a)(r.prototype,"quizData",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(d.getDefaultQuizQuestion)()}}),o=Object(c.a)(r.prototype,"setQuizData",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.quizData=t}}}),a=Object(c.a)(r.prototype,"setQuizDataByKey",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){Object(p.set)(e.quizData,t,n)}}}),r);t.a=f},jwwS:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q1tI"));t.LoadableContext=i.createContext(null)},jxvJ:function(e,t,n){},kriW:function(e,t,n){"use strict";var r=n("q1tI"),i=n("2OET"),o=n("N3fz"),a=n("6koa"),s=n.n(a),l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},d=s.a||a,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.values,r=c(t,["values"]),i=e.values,o=c(e,["values"]);return!d(i,n)||!d(r,o)},t.prototype.render=function(){var e=this;return r.createElement(i.a.Consumer,null,(function(t){Object(o.g)(t);var n=t.formatMessage,i=t.textComponent,a=void 0===i?r.Fragment:i,s=e.props,l=s.id,c=s.description,d=s.defaultMessage,p=s.values,f=s.children,b=s.tagName,m=void 0===b?a:b,h=n({id:l,description:c,defaultMessage:d},p);return Array.isArray(h)||(h=[h]),"function"===typeof f?f(h):m?r.createElement.apply(r,u([m,null],h)):h}))},t.displayName="FormattedMessage",t}(r.Component);t.a=p},pG1P:function(e,t,n){},pSBW:function(e,t,n){},qFS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=b(o),s=b(n("i8i4")),l=b(n("17x9")),c=b(n("QEso")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Ye7m")),d=n("2zs7"),p=b(d),f=n("VCL8");function b(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",_=void 0!==s.default.createPortal,v=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function O(e){return e()}var E=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){!_&&s.default.unmountComponentAtNode(i.node);var e=O(i.props.parentSelector);e?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=v()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},m(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,O(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:O(e.parentSelector),nextParent:O(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),v()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(o.Component);E.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},E.defaultProps={isOpen:!1,portalClassName:h,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(E),t.default=E},rig7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),i=(n("z2w+"),n("i8i4")),o=n.n(i),a=n("Mpw+"),s=r.createElement;function l(e){var t=a.a.intlStringFactory(["CommonResult_correct","CommonResult_wrong"]),n=e.setOff,i=e.isPass,l=e.successText,c=e.failText,u=e.darkMode,d=r.useMemo((function(){return"/static/images/classroom/grade--"+(i?"pass":"fail")+".svg"}),[i]);r.useEffect((function(){setTimeout((function(){n()}),1500)}),[]);var p=r.useMemo((function(){return l||t.CommonResult_correct}),[l]),f=r.useMemo((function(){return c||t.CommonResult_wrong}),[c]),b=r.useMemo((function(){return document.getElementById("modal-root")}),["object"]),m=s("div",{className:"CommonResult "+(u?"Dark":"")},s("div",{className:"CommonResult__content"},s("img",{alt:"result content",src:d,className:"CommonResult__content__image "+(i?"pass":"fail")}),s("h2",{className:"CommonResult__content__title"},i?p:f)));return b?o.a.createPortal(m,b):null}},rvTz:function(e,t,n){},sF6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r=function(e){if(e){var t=[];return e.map((function(e){t.push(e.trim())})),t}return[]},i=function(e){return e.sort((function(){return Math.random()-.5}))}},sztL:function(e,t,n){},tnns:function(e,t,n){},ulKH:function(e,t,n){},vSX7:function(e,t,n){},vgqN:function(e,t,n){},wboI:function(e,t,n){"use strict";var r=n("rePB"),i=n("o0o1"),o=n.n(i),a=n("a3ss"),s=n("1OyB"),l=n("vuIU"),c=n("Y65e"),u=(n("+JCI"),n("2vnA")),d=n("+f9f"),p=n("cBaE");var f,b,m,h,g,_,v,O,E,y,S,I,C,w,j,N,T,L,k,R,x,D,A,F,P,z,M,B,q,Q,U,H,G,W,V,J,K,Y,X,Z,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,pe,fe,be,me,he,ge,_e,ve,Oe,Ee,ye,Se,Ie,Ce=n("303J"),we=n("vDqi"),je=n.n(we),Ne=n("rzrn"),Te=n("+d86"),Le=n("y257"),ke=n("Mpw+"),Re=n("rW1U"),xe=n("1sAG"),De=n("qpav"),Ae=n("e13s"),Fe=n("KMcX"),Pe=n("5tSB");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Me=ke.a.intlStringFactory(["CodeEditorStore_WAITING","CodeEditorStore_EXECUTION_ERROR","CodeEditorStore_COMPLETE_SELF_CHECK","CodeEditorStore_SCORING_ERROR","CodeEditorStore_SAVING","CodeEditorStore_CHECK_BROWSER_SETTING","CodeEditorStore_EXECUTION_TIME_ERROR","CodeEditorStore_duplicated","CodeEditorStore_DELETE_FILE_ERROR","CodeEditorStore_CREATE_FILE_ERROR","CodeEditorStore_CREATE_FOLDER_ERROR","CodeEditorStore_MOVE_FILE_ERROR","CodeEditorStore_NO_PATH","CodeEditorStore_ERROR_IN_DOWNLOAD","CodeEditorStore_ERROR_IN_WEBTERMINAL_URL","CodeEditorStore_ERROR_IN_INIT_WEBTERMINAL"]),Be=(f=function(){function e(){var t=this;Object(s.a)(this,e),Object(a.a)(this,"items",b,this),Object(a.a)(this,"currentFile",m,this),Object(a.a)(this,"currentFolder",h,this),Object(a.a)(this,"defaultOpenFileId",g,this),Object(a.a)(this,"currentLesson",_,this),Object(a.a)(this,"consoleResult",v,this),Object(a.a)(this,"loading",O,this),Object(a.a)(this,"alert",E,this),Object(a.a)(this,"explorerOpen",y,this),Object(a.a)(this,"consoleHeight",S,this),Object(a.a)(this,"classroomStore",I,this),Object(a.a)(this,"modalState",C,this),Object(a.a)(this,"schemaLoading",w,this),Object(a.a)(this,"schemaError",j,this),Object(a.a)(this,"schemaResult",N,this),Object(a.a)(this,"uploadFile",T,this),Object(a.a)(this,"currentExplorerItem",L,this),Object(a.a)(this,"currentExplorerFolder",k,this),Object(a.a)(this,"rawDjangoFileTreeString",R,this),Object(a.a)(this,"webTerminalSrc",x,this),this.scrollToSelf=function(){if(t.classroomStore){t.classroomStore.splitViewStore.toggleIsRightClosed();try{setTimeout((function(){var e=document.getElementById("LessonViewer"),t=document.getElementById("ExerciseViewerSelfCheck");t&&e&&(e.scrollTo(0,t.offsetTop-50),t.classList.add("outline__purple"),setTimeout((function(){t.classList.remove("outline__purple")}),1e3))}),50)}catch(e){throw new Error(e)}}},Object(a.a)(this,"initPage",D,this),Object(a.a)(this,"initDefaultFile",A,this),Object(a.a)(this,"initCurrentLesson",F,this),Object(a.a)(this,"initLessonFiles",P,this),Object(a.a)(this,"initUserFiles",z,this),this.checkIsDefault=function(e){return void 0!==e&&(void 0!==t.defaultOpenFileId&&t.defaultOpenFileId===e)},Object(a.a)(this,"setDefaultFile",M,this),Object(a.a)(this,"resetPage",B,this),Object(a.a)(this,"spreadFiles",q,this),Object(a.a)(this,"setCurrentItem",Q,this),Object(a.a)(this,"convertFiles",U,this),Object(a.a)(this,"removeNonEditable",H,this),Object(a.a)(this,"getItem",G,this),Object(a.a)(this,"removeItem",W,this),Object(a.a)(this,"filterItemsToId",V,this),Object(a.a)(this,"initSchema",J,this),Object(a.a)(this,"submit",K,this),Object(a.a)(this,"submitWithoutSaving",Y,this),Object(a.a)(this,"grade",X,this),Object(a.a)(this,"nonMemberGrade",Z,this),Object(a.a)(this,"reset",$,this),Object(a.a)(this,"save",ee,this),this.downloadFileFromUrl=function(e){var t=document.createElement("a");t.style.display="none",t.href=e,t.setAttribute("download","project.zip"),"undefined"===typeof t.download&&t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},Object(a.a)(this,"download",te,this),Object(a.a)(this,"setConsole",ne,this),Object(a.a)(this,"setLoading",re,this),Object(a.a)(this,"closeLoading",ie,this),Object(a.a)(this,"setAlert",oe,this),Object(a.a)(this,"closeAlert",ae,this),Object(a.a)(this,"handleMouseMove",se,this),Object(a.a)(this,"handleMouseUp",le,this),Object(a.a)(this,"handleMouseDown",ce,this),Object(a.a)(this,"setScreenBeforeRun",ue,this),Object(a.a)(this,"setConsoleHeight",de,this),Object(a.a)(this,"changeExplorerOpen",pe,this),Object(a.a)(this,"closeExplorer",fe,this),Object(a.a)(this,"setModal",be,this),Object(a.a)(this,"addFile",me,this),Object(a.a)(this,"addFolder",he,this),Object(a.a)(this,"addAssets",ge,this),Object(a.a)(this,"addDuplicateCheck",_e,this),Object(a.a)(this,"isValidNameOnChange",ve,this),Object(a.a)(this,"changeItemName",Oe,this),Object(a.a)(this,"updateFilePath",Ee,this),this.isActionUnavailable=function(){return t.classroomStore&&t.classroomStore.isActionUnavailable()},this.writeInitialFile=function(e,t){var n,r;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        writeInitialFile(\n          lessonId: "'+e+'"\n          enrollmentId: "'+t+'"\n        )\n      }\n    '));case 2:if(r=i.sent,!(null===(n=r.data)||void 0===n?void 0:n.writeInitialFile)){i.next=5;break}return i.abrupt("return",!0);case 5:return i.abrupt("return",!1);case 6:case"end":return i.stop()}}))},this.getFileTree=function(e){var t,n,r;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.a.awrap(Re.a.requestGraphql("{\n      getFileTree(\n        bakeyFileRequest: {\n          language: "+e.language+'\n          enrollmentId: "'+(null===(t=e.topic.enrollment)||void 0===t?void 0:t.id)+'"\n          seqId: '+e.seqId+"\n        }\n      )\n    }"));case 2:if(r=i.sent,!(null===(n=r.data)||void 0===n?void 0:n.getFileTree)){i.next=5;break}return i.abrupt("return",r.data.getFileTree);case 5:return i.abrupt("return");case 6:case"end":return i.stop()}}))},Object(a.a)(this,"updateFileTree",ye,this),this.getTerminalUrl=function(){var e,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.awrap(Re.a.requestGraphql("{\n      getTerminalUrl(\n        bakeyFileRequest: {\n          language: "+t.currentLesson.language+'\n          enrollmentId: "'+(null===(e=t.currentLesson.topic.enrollment)||void 0===e?void 0:e.id)+'"\n          seqId: '+t.currentLesson.seqId+"\n        }\n      )\n    }"));case 2:n=r.sent,Object(u.runInAction)((function(){var e;(null===(e=n.data)||void 0===e?void 0:e.getTerminalUrl)?t.webTerminalSrc=n.data.getTerminalUrl:Ne.a.getInstance().setAlertPopup(Me.CodeEditorStore_ERROR_IN_WEBTERMINAL_URL,"alert",!1,Object(De.a)(Object(p.k)().theme))}));case 4:case"end":return r.stop()}}))},Object(a.a)(this,"upload",Se,this),this.saveTextFile=function(){var e,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        saveTextFile(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+t.currentFile+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(e=t.currentLesson.topic.enrollment)||void 0===e?void 0:e.id)+'"\n            seqId: '+t.currentLesson.seqId+'\n            content: "'+((null===(n=t.items.filter((function(e){return e.itemData.id===t.currentFile}))[0].itemData.content)||void 0===n?void 0:n.replace(/\n/gi,"\\n").replace(/"/gi,'\\"'))||"")+'"\n          }\n        )\n      }\n    '));case 2:case"end":return r.stop()}}))},this.deleteBakeyFile=function(e){var n,r,i;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        deleteBakeyFile(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+("all"===e?"":e)+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(n=t.currentLesson.topic.enrollment)||void 0===n?void 0:n.id)+'"\n            seqId: '+t.currentLesson.seqId+"\n          }\n        )\n      }\n    "));case 2:i=a.sent,(null===(r=i.data)||void 0===r?void 0:r.deleteBakeyFile)||alert(Me.CodeEditorStore_DELETE_FILE_ERROR);case 4:case"end":return a.stop()}}))},this.createBakeyFile=function(e){var n,r,i,a;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return i=(["none","root"].includes(t.currentExplorerFolder)?"":t.currentExplorerFolder)+"/"+e,s.next=3,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        createBakeyFile(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+i+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(n=t.currentLesson.topic.enrollment)||void 0===n?void 0:n.id)+'"\n            seqId: '+t.currentLesson.seqId+"\n          }\n        )\n      }\n    "));case 3:if(a=s.sent,!(null===(r=a.data)||void 0===r?void 0:r.createBakeyFile)){s.next=8;break}return t.addFile(i,e,"EDITABLE"),Ne.a.getInstance().closePopup(),s.abrupt("return");case 8:alert(Me.CodeEditorStore_CREATE_FILE_ERROR);case 9:case"end":return s.stop()}}))},this.createBakeyDirectory=function(e){var n,r,i,a;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return i=(["none","root"].includes(t.currentExplorerFolder)?"":t.currentExplorerFolder)+"/"+e,s.next=3,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        createBakeyDirectory(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+i+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(n=t.currentLesson.topic.enrollment)||void 0===n?void 0:n.id)+'"\n            seqId: '+t.currentLesson.seqId+"\n          }\n        )\n      }\n    "));case 3:if(a=s.sent,!(null===(r=a.data)||void 0===r?void 0:r.createBakeyDirectory)){s.next=8;break}return t.addFolder(i,e),Ne.a.getInstance().closePopup(),s.abrupt("return");case 8:alert(Me.CodeEditorStore_CREATE_FOLDER_ERROR);case 9:case"end":return s.stop()}}))},this.moveBakeyFileOrDirectory=function(e){var n,r,i;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        moveBakeyFileOrDirectory(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+t.currentExplorerItem.itemData.id+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(n=t.currentLesson.topic.enrollment)||void 0===n?void 0:n.id)+'"\n            seqId: '+t.currentLesson.seqId+'\n            newPath: "/'+e+'"\n          }\n        )\n      }\n    '));case 2:if(i=a.sent,Ne.a.getInstance().closePopup(),!(i.axiosError||i.errors.length>0)){a.next=7;break}return Ne.a.getInstance().setAlertPopup(Me.CodeEditorStore_MOVE_FILE_ERROR,"alert",!0,Object(De.a)(Object(p.k)().theme)),a.abrupt("return");case 7:if(null===(r=i.data)||void 0===r?void 0:r.moveBakeyFileOrDirectory){a.next=10;break}return Ne.a.getInstance().setAlertPopup(Me.CodeEditorStore_NO_PATH,"alert",!0,Object(De.a)(Object(p.k)().theme)),a.abrupt("return");case 10:t.updateFileTree();case 11:case"end":return a.stop()}}))},Object(a.a)(this,"setCurrentExplorerItem",Ie,this),this.zipTerminalProject=function(){var e,n,r,i;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(Re.a.requestGraphql('\n      mutation {\n        zipTerminalProject(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+("root"===t.currentExplorerItem.itemData.id?"/":t.currentExplorerItem.itemData.id)+'"\n            language: '+t.currentLesson.language+'\n            enrollmentId: "'+(null===(e=t.currentLesson.topic.enrollment)||void 0===e?void 0:e.id)+'"\n            seqId: '+t.currentLesson.seqId+"\n          }\n        )\n      }\n    "));case 2:((r=a.sent).axiosError||r.errors.length>0||!r.data.zipTerminalProject)&&Ne.a.getInstance().setAlertPopup(Me.CodeEditorStore_ERROR_IN_DOWNLOAD,"alert",!0,Object(De.a)(Object(p.k)().theme)),(null===(n=r.data)||void 0===n?void 0:n.zipTerminalProject)&&(i=r.data.zipTerminalProject,t.downloadFileFromUrl(i));case 5:case"end":return a.stop()}}))}}return Object(l.a)(e,[{key:"convertFileListStringToNestedArray",value:function(e){return function(e){var t=[];return e[0].forEach((function(n){t.push(function e(t,n,i){var o={};o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i);var a=i.filePath,s=n;for(;s<t.length;){if(t[s][0].name.replace(".","").replace(":","")===a){o.type="FOLDER",o.children=[];for(var l=1;l<t[s].length;)o.children.push(e(t,n+1,t[s][l])),l++}s++}return o}(e,1,n))})),t}(e.split("\n\n").map((function(e){return e.split("\n")})).map((function(e){var t="";return e.reduce((function(n,r,i){if(0===i&&(t=e[i].replace(".","").replace(":","/"),r=e[i].replace(".","").replace(":","")),r){var o=RegExp(".sqlite3"),a="EDITABLE";Object(Pe.c)(r)&&(a="IMAGE"),o.test(r)&&(a="READONLY"),n.push({id:t+r,name:r,filePath:t+r,type:a})}return n}),[])})))}},{key:"getCurrentFile",get:function(){var e=this;return this.items.find((function(t){return t.itemData.id===e.currentFile}))}},{key:"getFilesForSubmit",get:function(){return Object(p.I)(Object(Ce.a)(this.convertFiles(this.removeNonEditable(this.items)))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null")}},{key:"getFilesForDownload",get:function(){return Object(p.I)(Object(Ce.a)(this.convertFiles(this.items))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null")}},{key:"getFilesForUpdate",get:function(){return Object(p.I)(Object(Ce.a)(this.convertFiles(this.items))).replace(/\s*type:\s*"([^"]+)"/gi,"type: $1").replace(/\s*assetId:\s*{}/gi,"assetId: null").replace(/\s*content:\s*{}/gi,"content: null").replace(/\s*children:\s*{}/gi,"children: null").replace(/\s*id:\s*"[A-Z0-9]{0,8}",/g,"")}},{key:"filePath",get:function(){var e=this;if("none"===this.currentFolder)return"";var t=this.items.find((function(t){return t.itemData.id===e.currentFolder}));return t?""+t.itemData.filePath:""}},{key:"currentOpenFolders",get:function(){return this.items.reduce((function(e,t){return t instanceof d.d&&t.isOpen&&e.push(t.itemData.id),e}),[])}}]),e}(),b=Object(c.a)(f.prototype,"items",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=Object(c.a)(f.prototype,"currentFile",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=Object(c.a)(f.prototype,"currentFolder",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),g=Object(c.a)(f.prototype,"defaultOpenFileId",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),_=Object(c.a)(f.prototype,"currentLesson",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(xe.a)()}}),v=Object(c.a)(f.prototype,"consoleResult",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=Object(c.a)(f.prototype,"loading",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{load:!1,title:""}}}),E=Object(c.a)(f.prototype,"alert",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{alert:!1,success:!1}}}),y=Object(c.a)(f.prototype,"explorerOpen",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=Object(c.a)(f.prototype,"consoleHeight",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),I=Object(c.a)(f.prototype,"classroomStore",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=Object(c.a)(f.prototype,"modalState",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{file:!1,folder:!1,attach:!1}}}),w=Object(c.a)(f.prototype,"schemaLoading",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Object(c.a)(f.prototype,"schemaError",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=Object(c.a)(f.prototype,"schemaResult",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=Object(c.a)(f.prototype,"uploadFile",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Object(c.a)(f.prototype,"currentExplorerItem",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{itemData:{},parentId:"",level:0,changeItemName:function(){}}}}),k=Object(c.a)(f.prototype,"currentExplorerFolder",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=Object(c.a)(f.prototype,"rawDjangoFileTreeString",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=Object(c.a)(f.prototype,"webTerminalSrc",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=Object(c.a)(f.prototype,"initPage",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r,i,a,s,l;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if("DJANGO"!==t.language||(null===(r=t.topic.enrollment)||void 0===r||!r.id)){c.next=6;break}return c.next=3,o.a.awrap(e.writeInitialFile(t.id,t.topic.enrollment.id));case 3:if(c.sent){c.next=6;break}return Ne.a.getInstance().setAlertPopup(Me.CodeEditorStore_ERROR_IN_INIT_WEBTERMINAL,"alert",!1,Object(De.a)(Object(p.k)().theme)),c.abrupt("return");case 6:if(e.resetPage(),e.initCurrentLesson(t),c.t0=e,"DJANGO"!==t.language||(null===(i=t.topic.enrollment)||void 0===i||!i.id)){c.next=17;break}return c.t2=e,c.next=13,o.a.awrap(e.getFileTree(t));case 13:c.t3=c.sent,c.t1=c.t2.convertFileListStringToNestedArray.call(c.t2,c.t3),c.next=18;break;case 17:c.t1=t.files?t.files:[];case 18:c.t4=c.t1,c.t0.initLessonFiles.call(c.t0,c.t4),l=null===(a=t.studyNote)||void 0===a?void 0:null===(s=a.codeExecution)||void 0===s?void 0:s.files,e.initUserFiles(l),e.initDefaultFile(t.defaultOpenFileId),n&&(Object(u.runInAction)((function(){e.classroomStore=n})),100!==n.splitViewStore.getLeftSizeInPercentage()&&n.splitViewStore.getLeftSizeInPercentage()>60&&(e.explorerOpen=!1));case 24:case"end":return c.stop()}}))}}}),A=Object(c.a)(f.prototype,"initDefaultFile",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if("DJANGO"!==e.currentLesson.language)if(t)e.defaultOpenFileId=t,e.setCurrentItem(t);else{var n=e.items.find((function(e){return 0===e.level&&e instanceof d.b&&!e.readonly}));n&&e.setCurrentItem(n.itemData.id)}else{var r=e.items.find((function(e){return e instanceof d.b&&!e.readonly}));r&&(!function e(t,n){if("none"!==n.parentId){var r=t.find((function(e){return e.itemData.id===n.parentId}));return r.isOpen=!0,e(t,r)}}(e.items,r),e.setCurrentItem(r.itemData.id))}}}}),F=Object(c.a)(f.prototype,"initCurrentLesson",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentLesson=t}}}),P=Object(c.a)(f.prototype,"initLessonFiles",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.items=e.spreadFiles(t)}}}),z=Object(c.a)(f.prototype,"initUserFiles",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if(t){var n=e.spreadFiles(t);n&&n.map((function(t){var n=e.items.find((function(e){return e.itemData.id===t.itemData.id}));n&&(n.itemData=t.itemData)}))}}}}),M=Object(c.a)(f.prototype,"setDefaultFile",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t&&(e.defaultOpenFileId=t)}}}),B=Object(c.a)(f.prototype,"resetPage",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentFile="",e.currentFolder="none",e.consoleResult="",e.loading={load:!1,title:""},e.alert={alert:!1,success:!1},e.explorerOpen=!0,e.consoleHeight=25,e.schemaError=!1,e.schemaLoading=!0,e.schemaResult=[]}}}),q=Object(c.a)(f.prototype,"spreadFiles",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=[];return function t(r,i,o){r.map((function(r){"FOLDER"===r.type&&r.children?(t(r.children,r.id,o+1),n.push(new d.d(r,i,o,e.currentOpenFolders.includes(r.id)))):"READONLY"===r.type||"EDITABLE"===r.type?n.push(new d.b(r,i,o)):"DOWNLOADABLE"!==r.type&&"IMAGE"!==r.type||n.push(new d.a(r,i,o,""+e.currentLesson.seqId))}))}(JSON.parse(JSON.stringify(t)),"none",0),n}}}),Q=Object(c.a)(f.prototype,"setCurrentItem",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n,r,i,a,s,l,c,p,f;return o.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if("DJANGO"===e.currentLesson.language||e.currentFolder!==t&&e.currentFile!==t){b.next=2;break}return b.abrupt("return");case 2:if(r=e.items.find((function(e){return e.itemData.id===t}))){b.next=6;break}return"root"===t&&(e.currentFolder="none"),b.abrupt("return");case 6:if(r instanceof d.d?e.currentFolder=t:(e.currentFile=t,e.currentFolder=r.parentId),null===(n=e.currentLesson.topic.enrollment)||void 0===n||!n.id||"DJANGO"!==e.currentLesson.language){b.next=20;break}if(!["DOWNLOADABLE","IMAGE"].includes(null===(i=e.getCurrentFile)||void 0===i?void 0:i.itemData.type)){b.next=14;break}return b.next=11,o.a.awrap(Re.a.requestGraphql('{\n          getResourceUrl(\n            bakeyFileRequest: {\n              root: "user"\n              directory: "'+e.currentFile+'"\n              language: '+e.currentLesson.language+'\n              enrollmentId: "'+(null===(s=e.currentLesson.topic.enrollment)||void 0===s?void 0:s.id)+'"\n              seqId: '+e.currentLesson.seqId+'\n              name: "'+(null===(l=e.getCurrentFile)||void 0===l?void 0:l.itemData.name)+'"\n            }\n          )\n        }'));case 11:return p=b.sent,(null===(c=p.data)||void 0===c?void 0:c.getResourceUrl)&&Object(u.runInAction)((function(){e.items.forEach((function(e){e.itemData.id===t&&(e.link=p.data.getResourceUrl||"")}))})),b.abrupt("return");case 14:return b.next=16,o.a.awrap(Re.a.requestGraphql('{\n        loadBakeyTextFile(\n          bakeyFileRequest: {\n            root: "user"\n            directory: "'+e.currentFile+'"\n            language: '+e.currentLesson.language+'\n            enrollmentId: "'+(null===(a=e.currentLesson.topic.enrollment)||void 0===a?void 0:a.id)+'"\n            seqId: '+e.currentLesson.seqId+"\n          }\n        )\n      }"));case 16:if(!((f=b.sent).axiosError||f.errors.length>0)){b.next=19;break}return b.abrupt("return");case 19:Object(u.runInAction)((function(){e.items.map((function(e){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.itemData.id!==t){n.next=3;break}return e.itemData.content=f.data.loadBakeyTextFile||"",n.abrupt("return",e);case 3:return n.abrupt("return",e);case 4:case"end":return n.stop()}}))}))}));case 20:case"end":return b.stop()}}))}}}),U=Object(c.a)(f.prototype,"convertFiles",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){var t=[],n=JSON.parse(JSON.stringify(e));return n.sort((function(e,t){return t.level-e.level})).forEach((function(e){if("EDITABLE"!==e.itemData.type&&"READONLY"!==e.itemData.type||(e.itemData.content=Object(p.E)(e.itemData.content),"py"===e.itemData.name.split(".")[e.itemData.name.split(".").length-1]&&(e.itemData.content=function(e,t){for(var n="",r=0;r<t;r++){var i=new RegExp("^(\\t|\\s\\t|\\s\\s\\t|\\s\\s\\s\\t)".replace("^(","^("+n+")("),"gm");e=e.replace(i,"$1    "),n+="\\s\\s\\s\\s"}return e}(e.itemData.content,10))),"none"!==e.parentId){var r=n.find((function(t){return t.itemData.id===e.parentId}));void 0!==r&&r.itemData.children.push(e.itemData)}else t.push(e.itemData)})),t}}}),H=Object(c.a)(f.prototype,"removeNonEditable",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){var t=JSON.parse(JSON.stringify(e));function n(e){return null!==e&&void 0!==e}return e.slice().sort((function(e,t){return t.level-e.level})).map((function(r){r instanceof d.b&&!(r instanceof d.b&&r.readonly)||(r instanceof d.d&&r.childrenIds.map((function(t){return e.find((function(e){return e.itemData.id===t&&e instanceof d.b&&!e.readonly}))})).filter(n).length||(t=t.filter((function(e){return e.itemData.id!==r.itemData.id}))))})),t}}}),G=Object(c.a)(f.prototype,"getItem",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.items.find((function(e){return e.itemData.id===t}))}}}),W=Object(c.a)(f.prototype,"removeItem",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n,r,i;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((null===(n=e.currentLesson.topic.enrollment)||void 0===n?void 0:n.id)&&"DJANGO"===e.currentLesson.language&&(t=e.currentExplorerItem.itemData.id,e.deleteBakeyFile(t)),r=e.getItem(t)){o.next=4;break}return o.abrupt("return");case 4:i=function t(n){n.childrenIds.map((function(n){var r=e.getItem(n);r instanceof d.d&&t(r),e.items=e.filterItemsToId(e.items,n)})),e.items=e.filterItemsToId(e.items,n.itemData.id)},r instanceof d.d?i(r):e.items=e.filterItemsToId(e.items,t);case 6:case"end":return o.stop()}}))}}}),V=Object(c.a)(f.prototype,"filterItemsToId",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){return e.filter((function(e){return e.itemData.id!==t}))}}}),J=Object(c.a)(f.prototype,"initSchema",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n      mutation {\n        initialTable(studyNoteId: "'+(null===(t=e.currentLesson.studyNote)||void 0===t?void 0:t.id)+'")\n      }\n      '}).then(Object(u.action)((function(t){e.schemaLoading=!1,'"NULL\\n"'!==JSON.stringify(t.data.data.initialTable)?!t.data.errors.length&&t.data.data.initialTable?e.schemaResult=JSON.parse(t.data.data.initialTable):e.schemaError=!0:e.schemaError=!1}))).catch(Object(u.action)((function(t){Object(p.b)(t),e.schemaLoading=!1,e.schemaError=!0}))));case 2:case"end":return n.stop()}}))}}}),K=Object(c.a)(f.prototype,"submit",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,r,i,a,s,l;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(null===(t=e.getCurrentFile)||void 0===t?void 0:t.itemData){c.next=2;break}return c.abrupt("return");case 2:if(n=e.getCurrentFile.itemData,r=n.filePath,i=n.name,a=n.type,s=n.content,l=null===s||void 0===s?void 0:s.replace(/\n/gi,"\\n").replace(/"/gi,'\\"'),!Object(p.Cb)()||!e.currentLesson.trialLesson){c.next=8;break}e.submitWithoutSaving(),c.next=20;break;case 8:if(!e.isActionUnavailable()){c.next=12;break}Ne.a.getInstance().setCurrentPopup(Le.b.invalidEnrollment),c.next=20;break;case 12:if(e.currentLesson.runnableType!==Te.f.NOT_RUNNABLE){c.next=16;break}return c.abrupt("return");case 16:return e.setScreenBeforeRun(),e.consoleResult=Me.CodeEditorStore_WAITING,c.next=20,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n          mutation {\n            submitFile(\n              studyNoteId: "'+e.currentLesson.studyNote.id+'"\n              input: {\n                files: '+("DJANGO"===e.currentLesson.language?'[{assetId: null, name: "'+i+'", filePath: "'+r+'",type: '+a+', content: "'+l+'",children: null}]':e.getFilesForSubmit)+"\n              }\n            )\n            {\n              codeExecution {\n                result {\n                  status\n                  printed\n                  errorLog\n                  renderedUrl\n                }\n              }\n            }\n          }"}).then((function(t){if(!t.data.errors.length&&t.data.data.submitFile){var n=t.data.data.submitFile.codeExecution.result;e.setConsole(n)}else Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(p.b)(t),Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})));case 20:case"end":return c.stop()}}))}}}),Y=Object(c.a)(f.prototype,"submitWithoutSaving",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setScreenBeforeRun(),e.consoleResult=Me.CodeEditorStore_WAITING,t.next=4,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n        mutation {\n          submitWithoutSaving(\n            lessonId: "'+e.currentLesson.id+'"\n            input: {\n              files: '+e.getFilesForSubmit+"\n            }\n          ) {\n            result {\n              status\n              printed\n              errorLog\n              renderedUrl\n            }\n          }\n        }"}).then((function(t){if(!t.data.errors.length&&t.data.data.submitWithoutSaving){var n=t.data.data.submitWithoutSaving.result;e.setConsole(n)}else Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(p.b)(t),Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})));case 4:case"end":return t.stop()}}))}}}),X=Object(c.a)(f.prototype,"grade",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,r,i;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(p.Cb)()||!e.currentLesson.trialLesson){a.next=4;break}e.nonMemberGrade(),a.next=30;break;case 4:if(!e.isActionUnavailable()){a.next=8;break}Ne.a.getInstance().setCurrentPopup(Le.b.invalidEnrollment),a.next=30;break;case 8:if(e.classroomStore){a.next=12;break}return a.abrupt("return");case 12:if(e.setScreenBeforeRun(),t=e.currentLesson,n=t.gradingType,r=t.runnableType,i=t.language,n!==Te.b.SELF){a.next=27;break}if(e.consoleResult=Me.CodeEditorStore_COMPLETE_SELF_CHECK,e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),r===Te.f.NOT_RUNNABLE||"HTML_CSS"===i){a.next=24;break}return a.next=21,o.a.awrap(e.submit());case 21:Object(u.runInAction)((function(){e.consoleResult+="\n"+Me.CodeEditorStore_COMPLETE_SELF_CHECK})),a.next=25;break;case 24:e.save(!0);case 25:a.next=30;break;case 27:return e.consoleResult=Me.CodeEditorStore_WAITING,a.next=30,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n            mutation {\n              gradeFile(\n              studyNoteId: "'+e.currentLesson.studyNote.id+'"\n                input: {\n                  files: '+e.getFilesForSubmit+"\n                }\n                ){\n                  codeExecution {\n                    pass\n                    result {\n                      status\n                      printed\n                      errorLog\n                      renderedUrl\n                    }\n                  }\n                }\n              }"}).then((function(t){if(!t.data.errors.length&&t.data.data.gradeFile){var n=t.data.data.gradeFile.codeExecution,r=n.result,i=n.pass;e.setConsole(r),e.setAlert(i),i&&e.classroomStore.setLessonRating(!0)}else Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(p.b)(t),Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_SCORING_ERROR}))})));case 30:case"end":return a.stop()}}))}}}),Z=Object(c.a)(f.prototype,"nonMemberGrade",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n,r,i;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.setScreenBeforeRun(),t=e.currentLesson,n=t.gradingType,r=t.runnableType,i=t.language,e.classroomStore){a.next=4;break}return a.abrupt("return");case 4:if(n!==Te.b.SELF||r===Te.f.NOT_RUNNABLE){a.next=15;break}if(e.consoleResult=Me.CodeEditorStore_COMPLETE_SELF_CHECK,e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),"HTML_CSS"===i){a.next=12;break}return a.next=11,o.a.awrap(e.submit());case 11:Object(u.runInAction)((function(){e.consoleResult+="\n"+Me.CodeEditorStore_COMPLETE_SELF_CHECK}));case 12:return a.abrupt("return");case 15:if(n!==Te.b.SELF||r!==Te.f.NOT_RUNNABLE){a.next=20;break}return e.classroomStore.setSelfCheckOpened(!0),e.scrollToSelf(),e.consoleResult=Me.CodeEditorStore_COMPLETE_SELF_CHECK,a.abrupt("return");case 20:return e.consoleResult=Me.CodeEditorStore_WAITING,a.next=23,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n        mutation {\n          nonMemberGradeFile(\n            lessonId: "'+e.currentLesson.id+'"\n            input: {\n              files: '+e.getFilesForSubmit+"\n            }\n          ) {\n              pass\n              result {\n                status\n                printed\n                errorLog\n                renderedUrl\n              }\n            }\n          }"}).then((function(t){if(!t.data.errors.length&&t.data.data.nonMemberGradeFile){var n=t.data.data.nonMemberGradeFile,r=n.result,i=n.pass;e.setConsole(r),e.setAlert(i),i&&e.classroomStore.setLessonRating(!0)}else Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_EXECUTION_ERROR}))})).catch((function(t){Object(p.b)(t),Object(u.runInAction)((function(){e.consoleResult=Me.CodeEditorStore_SCORING_ERROR}))})));case 23:case"end":return a.stop()}}))}}}),$=Object(c.a)(f.prototype,"reset",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){"DJANGO"!==e.currentLesson.language?e.items=e.spreadFiles(e.currentLesson.files?e.currentLesson.files:[]):Ne.a.getInstance().setCurrentPopup("resetFiles")}}}),ee=Object(c.a)(f.prototype,"save",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n=arguments;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],"DJANGO"!==e.currentLesson.language){r.next=3;break}return r.abrupt("return");case 3:if(!e.isActionUnavailable()){r.next=7;break}Ne.a.getInstance().setCurrentPopup(Le.b.invalidEnrollment),r.next=10;break;case 7:return t||e.setLoading(Me.CodeEditorStore_SAVING),r.next=10,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n          mutation {\n            submitFile(\n            studyNoteId: "'+e.currentLesson.studyNote.id+'"\n              input: {\n                files: '+e.getFilesForSubmit+"\n              }\n              ){\n                id\n              }\n            }"}).then((function(){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.closeLoading((function(){t||Ne.a.getInstance().setCurrentPopupShort("savePopup")}));case 1:case"end":return n.stop()}}))})).catch((function(){e.closeLoading((function(){t||Ne.a.getInstance().setCurrentPopupShort("notSavePopup")}))})));case 10:case"end":return r.stop()}}))}}}),te=Object(c.a)(f.prototype,"download",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.isActionUnavailable()){r.next=4;break}Ne.a.getInstance().setCurrentPopup(Le.b.invalidEnrollment),r.next=15;break;case 4:return r.prev=4,r.next=7,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/graphql",headers:{"Content-Type":"application/graphql",Authorization:"Bearer "+Object(p.j)("cat")},data:'\n            mutation {\n              downloadProject(\n                studyNoteId: "'+e.currentLesson.studyNote.id+'",\n                input: {\n                  files: '+e.getFilesForDownload+"\n                }\n              )\n            }"}));case 7:t=r.sent,n=t.data.data.downloadProject,e.downloadFileFromUrl(n),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),Object(p.b)(r.t0);case 15:case"end":return r.stop()}}),null,null,[[4,12]])}}}),ne=Object(c.a)(f.prototype,"setConsole",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.printed,r=t.status,i=t.errorLog,o=t.renderedUrl;if(o){if("DJANGO"===e.currentLesson.language)(new Ae.a).set("port",Object(Fe.a)(o).port,{domain:".codeit.kr",path:"/"});return window.open(o,"_blank","DJANGO"===e.currentLesson.language?"":"width=1000,height=800"),void(e.consoleResult=Me.CodeEditorStore_CHECK_BROWSER_SETTING)}"timeout"!==r?"[]"!==n&&n||!i||"JUPYTER_DS"===e.currentLesson.language?"[]"!==n&&n?"JUPYTER_DS"===e.currentLesson.language?e.consoleResult=n:e.consoleResult=n+"\n"+i:e.consoleResult="":e.consoleResult=i:e.consoleResult=Me.CodeEditorStore_EXECUTION_TIME_ERROR}}}),re=Object(c.a)(f.prototype,"setLoading",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.loading={load:!0,title:t}}}}),ie=Object(c.a)(f.prototype,"closeLoading",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){setTimeout(Object(u.action)((function(){e.loading={load:!1,title:""},t instanceof Function&&t()})),500)}}}),oe=Object(c.a)(f.prototype,"setAlert",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.alert={alert:!0,success:t}}}}),ae=Object(c.a)(f.prototype,"closeAlert",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.alert={alert:!1,success:!1}}}}),se=Object(c.a)(f.prototype,"handleMouseMove",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=document.getElementsByClassName("CodeEditorTemplate")[0],r=t.touches?t.touches[0].pageY:t.clientY,i=(n.clientHeight-r+125)/n.clientHeight*100;i>=10&&100-i>30&&(e.consoleHeight=i)}}}),le=Object(c.a)(f.prototype,"handleMouseUp",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){document.body.style.cursor="auto",document.body.removeEventListener("touchmove",e.handleMouseMove),document.body.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("touchend",e.handleMouseUp),window.removeEventListener("mouseup",e.handleMouseUp)}}}),ce=Object(c.a)(f.prototype,"handleMouseDown",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.target.className.includes("NewEditorConsole__header")&&(document.body.style.cursor="grab",document.body.addEventListener("touchmove",e.handleMouseMove),document.body.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("touchend",e.handleMouseUp),window.addEventListener("mouseup",e.handleMouseUp))}}}),ue=Object(c.a)(f.prototype,"setScreenBeforeRun",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setConsoleHeight(40)}}}),de=Object(c.a)(f.prototype,"setConsoleHeight",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.consoleHeight=t}}}),pe=Object(c.a)(f.prototype,"changeExplorerOpen",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.explorerOpen=!e.explorerOpen}}}),fe=Object(c.a)(f.prototype,"closeExplorer",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.explorerOpen=!1}}}),be=Object(c.a)(f.prototype,"setModal",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.modalState[t]=n}}}),me=Object(c.a)(f.prototype,"addFile",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r){var i,o={id:t,name:n,filePath:e.filePath+"/"+n,type:r,content:""},a="DJANGO"===e.currentLesson.language,s=a&&(null===(i=e.currentLesson.topic.enrollment)||void 0===i?void 0:i.id)?e.currentExplorerFolder:e.currentFolder,l=e.items.find((function(e){return e.itemData.id===s})),c=new d.b(o,s,void 0!==l?l.level+1:0);void 0!==l&&l instanceof d.d&&l.childrenIds.push(t),a||(e.currentFile=t),e.items.push(c)}}}),he=Object(c.a)(f.prototype,"addFolder",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r,i={id:t,name:n,filePath:e.filePath+"/"+n,type:"FOLDER",children:[]},o="DJANGO"===e.currentLesson.language,a=o&&(null===(r=e.currentLesson.topic.enrollment)||void 0===r?void 0:r.id)?e.currentExplorerFolder:e.currentFolder,s=e.items.find((function(e){return e.itemData.id===a})),l=new d.d(i,a,void 0!==s?s.level+1:0,!0);void 0!==s&&s instanceof d.d&&s.childrenIds.push(t),o||(e.currentFile=t),e.items.push(l)}}}),ge=Object(c.a)(f.prototype,"addAssets",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.map((function(t){var n,r,i,a,s,l,c,f,b,m,h;return o.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(n=Object(p.K)(8),r=e.items.find((function(t){return t.itemData.id===e.currentFolder})),i=Object(Pe.c)(t.fileName),a=RegExp(".sqlite3"),s=a.test(t.fileName),!i&&!s){g.next=13;break}l={id:n,name:t.fileName,filePath:t.url,assetId:t.id,type:i?"IMAGE":"DOWNLOADABLE"},c=new d.a(l,e.currentFolder,void 0!==r?r.level+1:0),e.currentFile=n,e.items.push(c),void 0!==r&&r instanceof d.d&&r.childrenIds.push(n),g.next=18;break;case 13:return g.next=15,o.a.awrap(Re.a.requestGraphql('\n          mutation {\n            bakeyTextFileToLessonFile(\n              fileDirectory: "'+t.fileName+'"\n              lessonSeqId: '+e.currentLesson.seqId+'\n              lessonFilePath: "'+("none"===e.currentFolder?"":e.currentFolder)+"/"+t.fileName+'"\n            ) {\n              id name filePath assetId type content\n            }\n          }\n        '));case 15:b=g.sent,(m=null===(f=b.data)||void 0===f?void 0:f.bakeyTextFileToLessonFile)&&(h=new d.b(m,e.currentFolder,void 0!==r?r.level+1:0),Object(u.runInAction)((function(){e.currentFile=m.id,e.items.push(h),void 0!==r&&r instanceof d.d&&r.childrenIds.push(n)})));case 18:case"end":return g.stop()}}))}))}}}),_e=Object(c.a)(f.prototype,"addDuplicateCheck",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){if("none"===e.currentFolder)return void 0!==e.items.find((function(e){return 0===e.level&&e.itemData.name===t&&e.itemData.type===n}));var r=e.items.find((function(t){return t.itemData.id===e.currentFolder}));return void 0===r?void 0!==e.items.find((function(e){return 0===e.level&&e.itemData.name===t&&e.itemData.type===n})):void 0!==e.items.find((function(e){return e.itemData.name===t&&e.itemData.type===n&&e.parentId===r.itemData}))}}}),ve=Object(c.a)(f.prototype,"isValidNameOnChange",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){return!e.items.some((function(e){return e.itemData.name===t&&e.parentId===n.parentId&&e.itemData.type===n.itemData.type}))}}}),Oe=Object(c.a)(f.prototype,"changeItemName",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r){var i,o;t!==n.itemData.name&&((null===(i=e.currentLesson.topic.enrollment)||void 0===i?void 0:i.id)&&"DJANGO"===e.currentLesson.language?r&&e.isValidNameOnChange(t,n)&&Re.a.requestGraphql('\n        mutation {\n          renameBakeyFile(\n            bakeyFileRequest: {\n              root: "user"\n              directory: "'+n.itemData.filePath+'"\n              language: '+e.currentLesson.language+'\n              enrollmentId: "'+(null===(o=e.currentLesson.topic.enrollment)||void 0===o?void 0:o.id)+'"\n              seqId: '+e.currentLesson.seqId+'\n              name: "'+t+'"\n            }\n          )\n        }\n      ').then((function(e){var r;(null===(r=e.data)||void 0===r?void 0:r.renameBakeyFile)&&n.changeItemName(t)})):(e.isValidNameOnChange(t,n)?n.changeItemName(t):alert(Me.CodeEditorStore_duplicated),n instanceof d.d&&e.updateFilePath()))}}}),Ee=Object(c.a)(f.prototype,"updateFilePath",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.items.sort((function(e,t){return e.level-t.level})).map((function(t){if("none"!==t.parentId){var n=e.items.find((function(e){return e.itemData.id===t.parentId}));t.itemData.filePath=n.itemData.filePath+"/"+t.itemData.name}}))}}}),Object(c.a)(f.prototype,"getCurrentFile",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"getCurrentFile"),f.prototype),Object(c.a)(f.prototype,"getFilesForSubmit",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"getFilesForSubmit"),f.prototype),Object(c.a)(f.prototype,"getFilesForDownload",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"getFilesForDownload"),f.prototype),Object(c.a)(f.prototype,"getFilesForUpdate",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"getFilesForUpdate"),f.prototype),Object(c.a)(f.prototype,"filePath",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"filePath"),f.prototype),Object(c.a)(f.prototype,"currentOpenFolders",[u.computed],Object.getOwnPropertyDescriptor(f.prototype,"currentOpenFolders"),f.prototype),ye=Object(c.a)(f.prototype,"updateFileTree",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.awrap(e.getFileTree(e.currentLesson));case 2:n=r.sent,e.rawDjangoFileTreeString!==n&&(Object(u.runInAction)((function(){e.rawDjangoFileTreeString=n})),n&&e.initLessonFiles(e.convertFileListStringToNestedArray(n))),t?e.initDefaultFile():e.setCurrentItem(e.currentFile);case 6:case"end":return r.stop()}}))}}}),Se=Object(c.a)(f.prototype,"upload",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n,r,i,a,s;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=t.target.files?t.target.files:null){l.next=3;break}return l.abrupt("return");case 3:e.uploadFile=n,r=18e5,i=0;case 6:if(!(i<e.uploadFile.length)){l.next=14;break}return(s=new FormData).append("file",n[i]),l.next=11,o.a.awrap(je()({method:"post",url:"https://api.codeit.kr/upload?language="+e.currentLesson.language+"&enrollmentId="+(null===(a=e.currentLesson.topic.enrollment)||void 0===a?void 0:a.id)+"&seqId="+e.currentLesson.seqId+"&directory="+("none"===e.currentFolder?"":e.currentFolder)+"/"+(e.uploadFile[i].webkitRelativePath||e.uploadFile[i].name),headers:{Authorization:"Bearer "+Object(p.j)("cat"),"Content-type":"multipart/form-data"},data:s,timeout:r}));case 11:i++,l.next=6;break;case 14:return l.next=16,o.a.awrap(e.updateFileTree());case 16:case"end":return l.stop()}}))}}}),Ie=Object(c.a)(f.prototype,"setCurrentExplorerItem",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentExplorerItem=t,t instanceof d.d?e.currentExplorerFolder=t.itemData.filePath:t instanceof d.c&&(e.currentExplorerFolder=t.parentId)}}}),f);t.a=Be},x0cI:function(e,t,n){},xpQ0:function(e,t,n){},xxJ7:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("KQm4"),a=(n("VGzu"),n("+f9f")),s=n("ODXe"),l=(n("5k8Z"),n("TyAF")),c=(n("QugU"),r.createElement);function u(e){var t=e.selectedItem,n=e.darkMode,i=e.item,o=r.useMemo((function(){return n?"dark":"light"}),[n]),s=r.useMemo((function(){return i instanceof a.d?i.isOpen?"open":"close":t===i.itemData.id?"open":"close"}),[i instanceof a.d&&i.isOpen,t]);return c("div",{className:"ExplorerItemIcon"},i instanceof a.d?c(r.Fragment,null,c("img",{src:"/static/images/icons/angle--"+s+"--"+o+".png",width:12,height:12}),c("img",{src:"/static/images/icons/folder--"+s+"--"+o+".png",width:20,height:20,style:{marginLeft:".5rem"}})):c("img",{src:"/static/images/icons/file--"+s+"--"+o+".png",width:20,height:20,style:{marginLeft:".5rem"}}))}u.defaultProps={darkMode:!0};var d=u,p=n("m/Gp"),f=n("JcDS"),b=(n("aEeg"),n("cpGi")),m=r.createElement;function h(e){var t=e.className,n=void 0===t?"":t,r=e.img,i=e.darkMode,o=e.title,a=e.tooltip,s=e.tooltipPlace,l=e.onClick;return m("div",{className:"NewEditorBtn "+(i?"Dark":"")+" "+n,onClick:function(e){e.stopPropagation(),l()}},m("img",{src:r,alt:o,"data-tip":!0,"data-for":"newEditorBtn-tooltip--"+o}),m(b.a,{id:"newEditorBtn-tooltip--"+o,className:"NewEditorBtn__reactToolTip",effect:"solid",place:s,arrowColor:"#8F00FF"},m("span",null,a)))}var g=n("Mpw+"),_=n("rzrn"),v=n("Z/8h"),O=n("qpav"),E=n("cBaE"),y=n("4HrR"),S=r.createElement,I=Object(l.b)("sizeStore")(Object(l.c)((function(e){var t=g.a.intlStringFactory(["ExplorerItem_SET_FILE_OPENED","ExplorerItem_NEW_FILE","ExplorerItem_NEW_FOLDER","ExplorerItem_RENAME","ExplorerItem_MOVE","ExplorerItem_DELETE","ExplorerItem_DOWNLOAD","ExplorerItem_PROJECT_DOWNLOAD","ExplorerItem_OPEN","ExplorerItem_WILL_YOU_DELETE","ExplorerItem_DO_DELETE","ExplorerItem_CANCEL"]),n=e.className,i=e.item,o=e.darkMode,l=e.getChildItems,c=e.onClickItem,u=e.selectedItem,b=e.allowEdit,m=e.download,C=e.changeItemName,w=e.removeItem,j=e.setDefaultFile,N=e.checkIsDefault,T=e.changeExplorerOpen,L=e.isDjango,k=e.setCurrentExplorerItem,R=e.zipTerminalProject,x=e.sizeStore.numberedWindowSizes,D=r.useState(!1),A=Object(s.a)(D,2),F=A[0],P=A[1],z=r.useState(i.itemData.name),M=Object(s.a)(z,2),B=M[0],q=M[1],Q=r.useCallback((function(e){if(b||m||Object(E.sb)())switch(e){case t.ExplorerItem_SET_FILE_OPENED:!j||i instanceof a.d||j(i.itemData.id);break;case t.ExplorerItem_RENAME:P(!0);break;case t.ExplorerItem_NEW_FILE:_.a.getInstance().setCurrentPopup("createFile");break;case t.ExplorerItem_NEW_FOLDER:_.a.getInstance().setCurrentPopup("createFolder"),P(!0);break;case t.ExplorerItem_DELETE:_.a.getInstance().setCurrentPopup("removeFile--"+i.itemData.id);break;case t.ExplorerItem_MOVE:_.a.getInstance().setCurrentPopup("FOLDER"===i.itemData.type?"moveFolder":"moveFile");break;case t.ExplorerItem_DOWNLOAD:R()}}),[b,i,j]),U=r.useMemo((function(){return i instanceof a.d&&i.isOpen?"SelectedFolder":i instanceof a.d||u!==i.itemData.id?"":"SelectedFile"}),[u,i instanceof a.d&&i.isOpen]),H=r.useMemo((function(){if("root"===i.itemData.id)return 0;var e=0!==i.level?15*(i.level+1):15;return i instanceof a.d||(e+=15),e}),[i.level]),G=r.useMemo((function(){if(L){var e=[t.ExplorerItem_RENAME,t.ExplorerItem_MOVE,t.ExplorerItem_DELETE,t.ExplorerItem_DOWNLOAD];return"FOLDER"===i.itemData.type&&(e=[t.ExplorerItem_NEW_FILE,t.ExplorerItem_NEW_FOLDER].concat(e)),e}return[t.ExplorerItem_SET_FILE_OPENED,t.ExplorerItem_DELETE,t.ExplorerItem_RENAME]}),[i.itemData.type,L]),W=r.useCallback((function(){q(i.itemData.name),P(!1)}),[B,F]),V=r.useCallback((function(){k(i),i instanceof a.d?i.changeOpen():!b&&x<=3&&T(),e.onClickItem&&e.onClickItem(i.itemData.id)}),[i,e.onClickItem]),J=r.useCallback((function(e){C(B,i,"Enter"===e.key),W()}),[B,F]),K=r.useCallback((function(e){q(e.target.value)}),[B,F]),Y=r.useCallback((function(e){e.stopPropagation()}),[]),X=r.useCallback((function(e){"Enter"===e.key||13===e.keyCode?J(e):"Escape"!==e.key&&27!==e.keyCode||W()}),[B,F]);return S(r.Fragment,null,S("div",{className:"ExplorerItem\n          "+(m&&!L?"ExplorerItem--rootRightPadding":"")+"\n          "+U+"\n          "+(o?"dark":"")+"\n          "+n+"\n        ",style:{marginLeft:H},onClick:V},m&&!L&&S("div",{className:"ExplorerItem__download"},S(h,{className:"ExplorerItem__download--btn",onClick:m,img:"/static/images/classroom/download"+(o?"-dark":"")+".png",darkMode:o,title:t.ExplorerItem_DOWNLOAD,tooltip:t.ExplorerItem_PROJECT_DOWNLOAD,tooltipPlace:"left"})),S(d,{item:i,darkMode:o,selectedItem:u}),b&&F?S("input",{autoComplete:"off",className:"ExplorerItem__edit",value:B,autoFocus:!0,onChange:K,onClick:Y,onKeyDown:X,onBlur:W}):S("span",{className:"ExplorerItem__name",title:i.itemData.name},b&&N&&N(i.itemData.id)?t.ExplorerItem_OPEN:"",S("span",{className:"CR__hidden--L"},i.itemData.name),S(y.a,{className:"CR__hidden--SM",text:i.itemData.name?i.itemData.name:"",length:m?6:10,isRight:!0})),(b||Object(E.sb)())&&S(p.a,{className:"ExplorerItem__optionWrapper",trigger:S("button",{className:"ExplorerItem__option"},S("span",{className:"ExplorerItem__option__dot"}),S("span",{className:"ExplorerItem__option__dot"}),S("span",{className:"ExplorerItem__option__dot"})),content:S(f.a,{textList:G,onSelect:Q}),closeAfterClick:!0,onClick:function(){return k(i)}})),i instanceof a.d&&i.isOpen&&l(i.itemData.id).map((function(e){return S(I,{item:e,key:e.itemData.id,darkMode:o,getChildItems:l,onClickItem:c,selectedItem:u,allowEdit:b,changeItemName:C,removeItem:w,setDefaultFile:j,checkIsDefault:N,changeExplorerOpen:T,isDjango:L,setCurrentExplorerItem:k,zipTerminalProject:R})})),S(v.a,{popupTitle:"removeFile--"+i.itemData.id,title:t.ExplorerItem_WILL_YOU_DELETE,className:"ExplorerItem__popupRemoveFile "+(Object(O.a)(Object(E.k)().theme)?"dark":""),hasBtn2:!0,hasIcon:!0,iconType:"trash",iconPosition:"top",btnFunc:function(){return w(i.itemData.id)},btnText:t.ExplorerItem_DO_DELETE,btn2Text:t.ExplorerItem_CANCEL,btnType:"3d"}))}))),C=I,w=(n("eq0I"),n("aI5n"),r.createElement);function j(e){var t=e.onClick,n=e.img;return w("button",{className:"CodeEditorToolbarItem",onClick:t},w("img",{alt:"code editor toolbar button",src:n}))}var N=n("Fz3V"),T=(n("vgqN"),n("Rhuy")),L=i.a.createElement,k=function(e){var t=e.popupTitle,n=e.title,r=e.description,o=e.placeholderText,a=e.onClick,l=e.buttonText,c=e.isMovePopup,u=void 0!==c&&c,d=e.currentLessonTitle,p=i.a.useState(""),f=Object(s.a)(p,2),b=f[0],m=f[1];return L(N.a,{title:n,popupTitle:t,className:"PopupFileManager "+(Object(O.a)(Object(E.k)().theme)?"Dark":""),content:"",component:L(i.a.Fragment,null,r&&L("p",null,r),u?L("div",{className:"PopupFileManager__InputWrapper"},L("span",null,d),"/",L("input",{value:b,onChange:function(e){return m(e.target.value)},placeholder:o})):L("input",{value:b,onChange:function(e){return m(e.target.value)},placeholder:o}),L(T.a,{text:l,isLink:!1,onClickBtn:function(){a(b),m("")}}))})},R=r.createElement;var x=Object(l.b)("codeEditorStore")(Object(l.c)((function(e){var t,n=g.a.intlStringFactory(["CodeEditorToolbarTemplate_MANAGE_FILE","CodeEditorToolbarTemplate_NEW_FILE","CodeEditorToolbarTemplate_NEW_FOLDER","CodeEditorToolbarTemplate_ATTACH_FILE","CodeEditorToolbarTemplate_ATTACH_FOLDER","CodeEditorToolbarTemplate_CREATE_FILE","CodeEditorToolbarTemplate_CREATE_FOLDER","CodeEditorToolbarTemplate_CREATE_FILE_PLACEHOLDER","CodeEditorToolbarTemplate_CREATE_FOLDER_PLACEHOLDER","CodeEditorToolbarTemplate_CREATE","CodeEditorToolbarTemplate_MOVE_FILE","CodeEditorToolbarTemplate_EDIT_FILE_PATH","CodeEditorToolbarTemplate_APPLY","CodeEditorToolbarTemplate_MOVE_FOLDER","CodeEditorToolbarTemplate_EDIT_FOLDER_PATH"]),i=e.codeEditorStore,o=i.setModal,a=i.currentLesson,s=i.upload,l=i.createBakeyFile,c=i.createBakeyDirectory,u=i.moveBakeyFileOrDirectory;return r.useEffect((function(){var e,t;"manageFiles"===_.a.getInstance().currentPopup&&(null===(e=document.getElementById("uploadFolder"))||void 0===e||e.setAttribute("webkitdirectory",""),null===(t=document.getElementById("uploadFolder"))||void 0===t||t.setAttribute("directory",""))}),["manageFiles"===_.a.getInstance().currentPopup]),R("div",{className:"CodeEditorToolbarTemplate "+("DARK"===Object(E.k)().theme?"Dark":"")},(null===(t=a.topic.enrollment)||void 0===t?void 0:t.id)?R("button",{className:"CodeEditorToolbarTemplate__openManageFilesButton",onClick:function(){return _.a.getInstance().setCurrentPopup("manageFiles")}},n.CodeEditorToolbarTemplate_MANAGE_FILE):R(r.Fragment,null,R(j,{onClick:function(){o("folder",!0)},img:"/static/images/admin/folder-add.svg"}),R(j,{onClick:function(){o("file",!0)},img:"/static/images/admin/file-add.svg"}),R(j,{onClick:function(){o("attach",!0)},img:"/static/images/admin/asset-add.svg"})),R(N.a,{title:"",popupTitle:"manageFiles",className:"CodeEditorToolbarTemplate "+("DARK"===Object(E.k)().theme?"Dark":""),component:R(r.Fragment,null,R("button",{className:"CodeEditorToolbarTemplate__manageFilesButton",onClick:function(){return _.a.getInstance().setCurrentPopup("createFile")}},n.CodeEditorToolbarTemplate_NEW_FILE),R("button",{className:"CodeEditorToolbarTemplate__manageFilesButton",onClick:function(){return _.a.getInstance().setCurrentPopup("createFolder")}},n.CodeEditorToolbarTemplate_NEW_FOLDER),R("button",{className:"CodeEditorToolbarTemplate__manageFilesButton"},R("label",{htmlFor:"uploadFiles"},n.CodeEditorToolbarTemplate_ATTACH_FILE,R("input",{id:"uploadFiles",style:{display:"none"},type:"file",multiple:!0,onChange:function(e){return s(e)}}))),R("button",{className:"CodeEditorToolbarTemplate__manageFilesButton"},R("label",{htmlFor:"uploadFolder"},n.CodeEditorToolbarTemplate_ATTACH_FOLDER,R("input",{id:"uploadFolder",style:{display:"none"},type:"file",onChange:function(e){return s(e)}}))))}),R(k,{popupTitle:"createFile",title:n.CodeEditorToolbarTemplate_CREATE_FILE,placeholderText:n.CodeEditorToolbarTemplate_CREATE_FILE_PLACEHOLDER,onClick:l,buttonText:n.CodeEditorToolbarTemplate_CREATE}),R(k,{popupTitle:"createFolder",placeholderText:n.CodeEditorToolbarTemplate_CREATE_FOLDER_PLACEHOLDER,title:n.CodeEditorToolbarTemplate_CREATE_FOLDER,onClick:c,buttonText:n.CodeEditorToolbarTemplate_CREATE}),R(k,{popupTitle:"moveFile",title:n.CodeEditorToolbarTemplate_MOVE_FILE,description:n.CodeEditorToolbarTemplate_EDIT_FILE_PATH,placeholderText:"",onClick:u,buttonText:n.CodeEditorToolbarTemplate_APPLY,isMovePopup:!0,currentLessonTitle:a.title}),R(k,{popupTitle:"moveFolder",title:n.CodeEditorToolbarTemplate_MOVE_FOLDER,description:n.CodeEditorToolbarTemplate_EDIT_FOLDER_PATH,placeholderText:"",onClick:u,buttonText:n.CodeEditorToolbarTemplate_APPLY,isMovePopup:!0,currentLessonTitle:a.title}))}))),D=r.createElement;var A=Object(l.c)((function(e){var t=e.darkMode,n=e.title,i=e.items,s=e.onClickItem,l=e.selectedItem,c=e.allowEdit,u=e.changeItemName,d=e.download,p=e.removeItem,f=e.setDefaultFile,b=e.checkIsDefault,m=e.explorerOpen,h=e.changeExplorerOpen,g=e.isDjango,_=e.setCurrentExplorerItem,v=e.zipTerminalProject,O=r.useMemo((function(){return new a.d({id:"root",name:n,filePath:"",type:"FOLDER",children:[]},"root",0,!0)}),[n]),E=r.useCallback((function(e,t){var n=e.itemData.name.toUpperCase(),r=t.itemData.name.toUpperCase();return n<r?-1:n>r?1:0}),[]),y=r.useCallback((function(){var e=i.filter((function(e){return 0===e.level&&"FOLDER"===e.itemData.type})),t=i.filter((function(e){return 0===e.level&&("EDITABLE"===e.itemData.type||"READONLY"===e.itemData.type)})),n=i.filter((function(e){return 0===e.level&&("IMAGE"===e.itemData.type||"DOWNLOADABLE"===e.itemData.type)}));return[].concat(Object(o.a)(e.sort((function(e,t){return E(e,t)}))),Object(o.a)(t.sort((function(e,t){return E(e,t)}))),Object(o.a)(n.sort((function(e,t){return E(e,t)}))))}),[i]),S=r.useCallback((function(e){var t=i.filter((function(t){return t.parentId===e&&"FOLDER"===t.itemData.type})),n=i.filter((function(t){return t.parentId===e&&("EDITABLE"===t.itemData.type||"READONLY"===t.itemData.type)})),r=i.filter((function(t){return t.parentId===e&&("IMAGE"===t.itemData.type||"DOWNLOADABLE"===t.itemData.type)}));return[].concat(Object(o.a)(t.sort((function(e,t){return E(e,t)}))),Object(o.a)(n.sort((function(e,t){return E(e,t)}))),Object(o.a)(r.sort((function(e,t){return E(e,t)}))))}),[i]);return D(r.Fragment,null,m&&D("div",{className:"ExplorerTemplate__background CR__hidden--L",onClick:h}),D("div",{className:"ExplorerTemplate "+(g?"Django":"")},c&&D(x,null),D("div",{className:"ExplorerTemplate__files"},D(C,{item:O,darkMode:t,download:d,getChildItems:S,allowEdit:!1,changeItemName:u,removeItem:p,setDefaultFile:f,checkIsDefault:b,changeExplorerOpen:h,onClickItem:s,isDjango:g,setCurrentExplorerItem:_,zipTerminalProject:v}),O.isOpen&&y().map((function(e){return D(C,{item:e,key:e.itemData.id,darkMode:t,getChildItems:S,onClickItem:s,selectedItem:l,allowEdit:c&&"READONLY"!==e.itemData.type,changeItemName:u,removeItem:p,setDefaultFile:f,checkIsDefault:b,changeExplorerOpen:h,isDjango:g,setCurrentExplorerItem:_,zipTerminalProject:v})})))))})),F=(n("pSBW"),n("ulKH"),r.createElement);function P(e){var t=e.item,n=e.darkMode,r=e.changeExplorerOpen,i=e.explorerOpen;return F("div",{className:"NewEditorHeader "+(n?"Dark":"")},F("div",{className:"NewEditorHeader__explorerBtn",onClick:r},F("img",{src:"/static/images/icons/folder--"+(i?"close":"open")+"--"+(n?"black":"light")+".png"})),F("div",{className:"NewEditorHeader__currentFile"},F("span",{className:"NewEditorHeader__currentFile--symbol"+(n?" Dark":"")}),F("span",{className:"NewEditorHeader__currentFile--title"+(n?" Dark":"")},t.itemData.name)))}var z=n("a6RD"),M=n.n(z),B=(n("feAP"),n("E4Z0")),q=n.n(B),Q=(n("sztL"),r.createElement);function U(e){var t=g.a.intlStringFactory(["JupyterOutput_error"]),n=new q.a,i=r.useCallback((function(e){var t=Object.keys(e)[0],n=e[t];switch(t){case"text/html":return o(n);case"text/plain":return a(n);case"image/png":return s(t,n);default:return a(n)}}),[]),o=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return Q("div",{className:"jupyter_output jupyter_output-display"},Q("div",{className:"jupyter_output-display__html",dangerouslySetInnerHTML:{__html:t.trim()}}))}),[]),a=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return Q("div",{className:"jupyter_output jupyter_output-display"},Q("div",{className:"jupyter_output-display__text"},t.trim()))}),[]),s=r.useCallback((function(e,t){return Q("div",{className:"jupyter_output jupyter_output-display"},Q("img",{className:"jupyter_output-display__img",src:"data:"+e+";base64,"+t.replace("\n","")}))}),[]),l=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+"\n"+t})),r=n.ansi_to_html(t);return Q("div",{className:"jupyter_output jupyter_output-error"},Q("div",{className:"jupyter_output-error__html",dangerouslySetInnerHTML:{__html:r}}))}),[]),c=r.useCallback((function(e){var t=e.reduce((function(e,t){return e+t}));return Q("div",{className:"jupyter_output-stream"},Q("div",{className:"jupyter_output-stream__text"},t))}),[]);switch(e.output.output_type){case"display_data":case"execute_result":return i(e.output.data);case"stream":return c(e.output.text);case"error":return l(e.output.traceback);default:return Q("p",null,"'",t.JupyterOutput_error,".'")}}n("IEBa");var H=r.createElement;var G=function(e){return H("div",{dangerouslySetInnerHTML:{__html:e.tableCode},className:"SqlTable"})},W=(n("jxvJ"),function(e){var t=[];return e.map((function(n){if(!t.find((function(e){return e.name===n.table_name}))){var r={name:n.table_name,data:[]};e.filter((function(e){return e.table_name===n.table_name})).map((function(e){r.data.push({column_name:e.column_name,column_type:V(e.column_type),isPk:"PRI"===e.column_key})})),t.push(r)}})),t}),V=function(e){return"int"===e?"INTEGER":e.toUpperCase()},J=(n("JNvJ"),r.createElement);function K(e){var t=e.schema;return J("table",{className:"SchemaTableContent"},J("thead",null,J("tr",null,J("th",{colSpan:2},t.name))),J("tbody",null,t.data.map((function(e,t){return J("tr",{key:t},J("th",null,e.column_name,e.isPk?J("span",{className:"SchemaTableContent__pk"},"(PK)"):""),J("th",null,e.column_type))}))))}var Y=r.createElement;function X(e){var t=g.a.intlStringFactory(["SchemaTable_null"]),n=e.schemaList,r=W(n);return n.length?Y("div",{className:"SchemaTable"},r.map((function(e){return Y(K,{key:e.name,schema:e})}))):Y("div",{className:"SchemaTable"},t.SchemaTable_null)}n("rvTz");var Z=i.a.createElement,$=Object(l.c)((function(e){var t=g.a.intlStringFactory(["NewEditorConsoleBtns_EXECUTE","NewEditorConsoleBtns_NOT_SUPPORTING","NewEditorConsoleBtns_SCORING"]),n=e.className,r=void 0===n?"":n,i=e.darkMode,o=e.runnable,a=e.preview,s=e.lessonType,l=e.onSubmit,c=e.onGrade;return Z("div",{className:"NewEditorConsoleBtns "+(i?"NewEditorConsoleBtns__isDark":"")+" "+r},Z("button",{className:"NewEditorConsoleBtns__btn Submit "+(o?"":"NonRun"),onClick:function(){o&&l()}},Z("span",{className:"NewEditorConsoleBtns__btn__name"},t.NewEditorConsoleBtns_EXECUTE),!o&&Z("div",{className:"NewEditorConsoleBtns__nonrun"},Z("div",{className:"NewEditorConsoleBtns__nonrun--content"},t.NewEditorConsoleBtns_NOT_SUPPORTING))),"EXERCISE"===s&&!a&&Z("button",{className:"NewEditorConsoleBtns__btn Grade",onClick:c},Z("span",{className:"NewEditorConsoleBtns__btn__name"},t.NewEditorConsoleBtns_SCORING)))})),ee=n("o0o1"),te=n.n(ee),ne=(n("hON/"),i.a.createElement),re=Object(l.b)("codeEditorStore")(Object(l.c)((function(e){var t=e.codeEditorStore,n=t.currentLesson,i=t.updateFileTree,o=t.getTerminalUrl,a=t.webTerminalSrc;Object(r.useEffect)((function(){o()}),[n.seqId]);var s=function(e){"enterKey"===e.data&&function(){var e=setInterval((function(){return te.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.awrap(i());case 2:case"end":return e.stop()}}))}),1e3);setTimeout((function(){clearTimeout(e)}),3e3)}()};return ne("div",{className:"CodeEditorWebTerminal"},ne("iframe",{id:"web-terminal",src:a,onLoad:function(){window.addEventListener("message",(function(e){return s(e)}))}}))}))),ie=r.createElement;var oe=Object(l.c)((function(e){var t=g.a.intlStringFactory(["Console_LOADING_SCHEMA","Console_LOADING_SCHEMA_ERROR","Console_RESULT","Console_SCHEMA","Console_RESULT_WITH_SIGN","Console_WEB_TERMINAL"]),n=e.onGrade,i=e.result,o=e.language,a=e.darkMode,l=e.onMouseDown,c=e.height,u=e.onSubmit,d=e.lessonType,p=e.runnable,f=e.isPreview,b=e.schemaError,m=void 0!==b&&b,h=e.schemaLoading,_=void 0!==h&&h,v=e.schemaResult,O=void 0===v?[]:v,E=r.useMemo((function(){return"JUPYTER_DS"===o&&""!==i&&"[]"!==i&&"["===i[0]?JSON.parse(i):null}),[o,i]),y=r.useMemo((function(){return ie(G,{tableCode:i})}),[i]),S=r.useMemo((function(){return"JUPYTER_DS"===o&&E?E.map((function(e,t){return ie(U,{output:e,key:t})})):"SQL"===o?y:i}),[o,E,y,i]),I=r.useMemo((function(){return void 0!==f&&f}),[f]),C=r.useState(1),w=Object(s.a)(C,2),j=w[0],N=w[1],T=r.useCallback((function(e){N(Number(e.target.id))}),[]),L=r.useCallback((function(){p&&(1!==j&&N(1),u())}),[j]),k=r.useCallback((function(){1!==j&&N(1),n()}),[j]),R=r.useMemo((function(){return 1===j?"DJANGO"===o?ie(re,null):S:2===j&&"SQL"===o?_?t.Console_LOADING_SCHEMA:!_&&m?t.Console_LOADING_SCHEMA_ERROR:ie(X,{schemaList:O}):void 0}),[j,S,O,m,_]);return ie("div",{className:(a?"Dark":"")+" NewEditorConsole",style:{height:c+"%"}},ie("div",{className:"NewEditorConsole__header "+("SQL"===o?"NewEditorConsole__header--hasTab":""),onMouseDown:l,onTouchStart:l},"SQL"===o?ie("div",{className:"NewEditorConsole__header__tabs"},ie("button",{className:"NewEditorConsole__header__tabs__tab "+(1===j?"Active":""),onClick:T,id:"1"},t.Console_RESULT),ie("div",{className:"NewEditorConsole__header__tabs__divider CR__hidden--L"}),ie("button",{className:"NewEditorConsole__header__tabs__tab "+(2===j?"Active":""),onClick:T,id:"2"},t.Console_SCHEMA)):ie("span",{className:"NewEditorConsole__header__result"},"DJANGO"===o?t.Console_WEB_TERMINAL:t.Console_RESULT_WITH_SIGN),ie($,{className:"NewEditorConsole__header--btns CR__hidden--L",darkMode:a,runnable:p,preview:I,lessonType:d,onSubmit:L,onGrade:k})),ie("div",{className:"NewEditorConsole__content "+(["SQL","DJANGO"].includes(o)?"NewEditorConsole__content--"+("SQL"===o?"hasTab":"noPadding"):"")},ie("pre",{className:"NewEditorConsole__content__pre"},R)))})),ae=n("ZicW"),se=n("rig7"),le=(n("J/A8"),r.createElement);var ce=Object(l.c)((function(e){var t=e.item;return le("div",{className:"ImageViewer"},le("div",{className:"ImageViewer__content"},le("img",{alt:t.link,src:t.link}),le("span",null,t.itemData.name)))})),ue=n("qyWI"),de=r.createElement,pe=M()((function(){return Promise.all([n.e(59),n.e(64)]).then(n.bind(null,"I+mY"))}),{ssr:!1,loading:function(){return de(ue.a,null)},loadableGenerated:{webpack:function(){return["I+mY"]},modules:["components/common/AceEditor"]}});var fe=Object(l.b)("codeEditorStore")(Object(l.c)((function(e){var t,n=g.a.intlStringFactory(["EditorTemplate_SAVE","EditorTemplate_TEMPORARY_SAVE","EditorTemplate_RESET","EditorTemplate_CODE_RESET","EditorTemplate_POPUP_RESET_TITLE","EditorTemplate_WILL_DELETE","EditorTemplate_WILL_RESET","EditorTemplate_YES","EditorTemplate_NO"]),i=e.darkMode,o=e.hasConsole,s=e.isPreview,l=e.isEdit,c=void 0!==l&&l,u=e.codeEditorStore,d=u.getCurrentFile,p=u.submit,f=u.grade,b=u.consoleResult,m=u.currentLesson,y=u.alert,S=u.loading,I=u.handleMouseDown,C=u.consoleHeight,w=u.save,j=u.reset,N=u.closeAlert,T=u.explorerOpen,L=u.schemaError,k=u.schemaLoading,R=u.schemaResult,x=u.changeExplorerOpen,D=u.saveTextFile,A=u.deleteBakeyFile,F=r.useMemo((function(){return Object(E.k)()}),[]),z="DJANGO"===m.language;return de("div",{className:"EditorTemplate "+(T?"ExplorerOpend":"")+" "+(i?"Dark":"")},de("div",{className:"EditorTemplate__body"},de("div",{className:"EditorTemplate__body__left"},d&&de(P,{item:d,darkMode:i,changeExplorerOpen:x,explorerOpen:T,isEdit:c}),de("div",{className:"EditorTemplate__body__left__editor "+(z?"EditorTemplate__body__left__editor--webTerminal":""),onBlur:z&&(null===(t=m.topic.enrollment)||void 0===t?void 0:t.id)&&"READONLY"!==(null===d||void 0===d?void 0:d.itemData.type)?D:function(){}},de("div",{className:"EditorTemplate__body__left__editor--display "+(c?"EditorTemplate__body__left__editor--display--full":"")},d instanceof a.b?de(pe,{item:d,darkMode:i,isAdmin:Object(E.sb)(F),onSave:w}):d instanceof a.a?de(ce,{item:d}):de("div",null,"!!!")),de("div",{className:"EditorTemplate__body__left__editor--btns CR__hidden--SM"},de($,{darkMode:i,runnable:"NOT_RUNNABLE"!==m.runnableType,preview:!!s,lessonType:m.type,onGrade:f,onSubmit:p}),de("div",{className:"EditorTemplate__body__left__editor--btns--right"},de(h,{onClick:w,img:"/static/images/classroom/save"+(i?"-dark":"")+".png",darkMode:i,title:n.EditorTemplate_SAVE,tooltip:n.EditorTemplate_TEMPORARY_SAVE,tooltipPlace:"left"}),de(h,{onClick:j,img:"/static/images/classroom/reset"+(i?"-dark":"")+".png",darkMode:i,title:n.EditorTemplate_RESET,tooltip:n.EditorTemplate_CODE_RESET,tooltipPlace:"left"})))),o&&de(oe,{runnable:"NOT_RUNNABLE"!==m.runnableType,onGrade:f,onSubmit:p,result:b,language:m.language,lessonType:m.type,darkMode:i,onMouseDown:I,height:C,isPreview:s,schemaResult:R,schemaLoading:k,schemaError:L}))),de(v.a,{className:"EditorTemplate__PopupResetFiles",isDark:Object(O.a)(Object(E.k)().theme),popupTitle:"resetFiles",title:n.EditorTemplate_POPUP_RESET_TITLE,content:de("p",null,n.EditorTemplate_WILL_DELETE,de("br",null),n.EditorTemplate_WILL_RESET),hasBtn2:!0,btnType:"3d",btnText:n.EditorTemplate_YES,btnFunc:function(){A("all"),window.location.reload()},btn2Text:n.EditorTemplate_NO,btn2Func:function(){return _.a.getInstance().closePopup()}}),S.load&&de(ae.a,{title:S.title,darkMode:i}),y.alert&&de(se.a,{isPass:y.success,setOff:N,darkMode:i}))}))),be=(n("xpQ0"),n("9rZX")),me=n.n(be),he=(n("tnns"),n("ZrSz"),r.createElement);function ge(e){var t=e.item,n=e.isCheck,r=e.handleItemCheck;return he("div",{className:"AttachItem"},he("button",{className:"AttachItem__check"+(n?" Checked":""),onClick:function(){r(t)}},n&&he("img",{alt:"selected icon",src:"/static/images/admin/selected.svg",width:11,height:11})),he("span",{className:"AttachItem__fileName"},t.fileName),he("span",{className:"AttachItem__id"},t.id),he("span",{className:"AttachItem__size"},Object(E.ib)(t.fileSize)))}var _e=r.createElement;var ve=function(e){var t=g.a.intlStringFactory(["ExplorerModalAttachList_FILE_NAME","ExplorerModalAttachList_ID","ExplorerModalAttachList_CAPACITY"]),n=e.attachList,r=e.checkList,i=e.isAllCheck,o=e.handleAllCheck,a=e.handleItemCheck;return _e("div",{className:"AttachList"},_e("div",{className:"AttachList__header"},_e("button",{className:"AttachList__header__check"+(i?" Checked":""),onClick:o},i&&_e("img",{alt:"selected icon",src:"/static/images/admin/selected.svg",width:11,height:11})),_e("span",{className:"AttachList__header__fileName"},t.ExplorerModalAttachList_FILE_NAME),_e("span",{className:"AttachList__header__id"},t.ExplorerModalAttachList_ID),_e("span",{className:"AttachList__header__size"},t.ExplorerModalAttachList_CAPACITY)),_e("div",{className:"AttachList__body"},n.map((function(e){return _e(ge,{key:e.url,isCheck:!!r.find((function(t){return t.url===e.url})),handleItemCheck:a,item:e})}))))},Oe=(n("3Jua"),r.createElement);var Ee=Object(l.b)("codeEditorStore","lessonBuilderStore")(Object(l.c)((function(e){var t=g.a.intlStringFactory(["EditorModalTemplate_INPUT_NAME","EditorModalTemplate_duplicated","EditorModalTemplate_UPLOAD_FILE","EditorModalTemplate_CREATE_NEW_FILE","EditorModalTemplate_CREATE_NEW_FOLDER","EditorModalTemplate_INPUT_FILE_NAME","EditorModalTemplate_EDIT","EditorModalTemplate_POSSIBLE","EditorModalTemplate_IMPOSSIBLE","EditorModalTemplate_CREATE"]),n=e.lessonBuilderStore,i=e.type,o=e.codeEditorStore,a=o.modalState,l=o.setModal,c=o.addFile,u=o.addDuplicateCheck,d=o.addFolder,p=o.addAssets,f=n.lesson,b=r.useState(Object(E.K)(8)),m=Object(s.a)(b,2),h=m[0],_=m[1],v=r.useState(""),O=Object(s.a)(v,2),y=O[0],S=O[1],I=r.useState(!1),C=Object(s.a)(I,2),w=C[0],j=C[1],N=r.useState([]),T=Object(s.a)(N,2),L=T[0],k=T[1],R=r.useCallback((function(e){S(e.target.value)}),[]),x=r.useMemo((function(){return"file"===i?w?"READONLY":"EDITABLE":"attach"===i?"DOWNLOADABLE":"FOLDER"}),[i,w]),D=r.useCallback((function(e){if(e.preventDefault(),"attach"===i)return Object(E.b)("codeeditor template checkList",L),p(L),void A();if(y){if("folder"===i){if(u(y,x))return void alert(t.EditorModalTemplate_duplicated);d(h,y)}else{if(u(y,x))return void alert(t.EditorModalTemplate_duplicated);c(h,y,x)}A()}else alert(t.EditorModalTemplate_INPUT_NAME)}),[y,L,i,x]),A=r.useCallback((function(){S(""),_(Object(E.K)(8)),"folder"===i?l("folder",!1):"file"===i?l("file",!1):(l("attach",!1),k([]))}),[i]),F=r.useMemo((function(){return"attach"===i?a.attach:"file"===i?a.file:a.folder}),[i,a.attach,a.file,a.folder]),P=r.useMemo((function(){return"attach"===i?t.EditorModalTemplate_UPLOAD_FILE:"file"===i?t.EditorModalTemplate_CREATE_NEW_FILE:t.EditorModalTemplate_CREATE_NEW_FOLDER}),[i]),z=r.useCallback((function(){j(!w)}),[w]),M=r.useMemo((function(){return f.assets.length>0&&f.assets.length===L.length}),[f.assets.length,L.length]),B=r.useCallback((function(){k(M?[]:f.assets)}),[L]),q=r.useCallback((function(e){var t=L.find((function(t){return t.url===e.url}));k(void 0!==t?L.filter((function(e){return e.url!==t.url})):L.concat([e]))}),[L]);return Oe(me.a,{isOpen:F,onRequestClose:A,overlayClassName:"EditorModalTemplate__overlay",className:"EditorModalTemplate",shouldCloseOnOverlayClick:!0,ariaHideApp:!1},Oe("div",{className:"EditorModalTemplate__content"},Oe("h1",{className:"EditorModalTemplate__content__title"},P),"attach"===i||Oe("input",{value:y,onChange:R,className:"EditorModalTemplate__content__input",placeholder:t.EditorModalTemplate_INPUT_FILE_NAME}),"attach"===i&&Oe(ve,{attachList:f.assets,isAllCheck:M,checkList:L,handleAllCheck:B,handleItemCheck:q}),"file"===i&&Oe("div",{className:"EditorModalTemplate__toggles"},Oe("span",null,t.EditorModalTemplate_EDIT," :\xa0"),Oe("label",{className:"EditorModalTemplate__toggleBtn"},Oe("button",{className:"EditorModalTemplate__toggleBtn__btn"+(w?"":" Clicked"),onClick:z},Oe("span",{className:"EditorModalTemplate__toggleBtn__btn__symbol"})),Oe("span",null,t.EditorModalTemplate_POSSIBLE)),Oe("label",{className:"EditorModalTemplate__toggleBtn"},Oe("button",{className:"EditorModalTemplate__toggleBtn__btn"+(w?" Clicked":""),onClick:z},Oe("span",{className:"EditorModalTemplate__toggleBtn__btn__symbol"})),Oe("span",null,t.EditorModalTemplate_IMPOSSIBLE))),Oe("button",{className:"EditorModalTemplate__content__btn",onClick:D},t.EditorModalTemplate_CREATE)))}))),ye=r.createElement;t.a=Object(l.b)("codeEditorStore","sizeStore")(Object(l.c)((function(e){var t,n=e.codeEditorStore,i=n.items,o=n.getCurrentFile,a=n.setCurrentItem,s=n.currentLesson,l=n.removeItem,c=n.explorerOpen,u=n.classroomStore,d=n.closeExplorer,p=n.changeItemName,f=n.initSchema,b=n.setDefaultFile,m=n.checkIsDefault,h=n.changeExplorerOpen,g=n.setConsoleHeight,_=n.download,v=n.setCurrentExplorerItem,y=n.zipTerminalProject,S=e.hasConsole,I=e.sizeStore,C=e.isEdit,w=e.isPreview;if(!I)return ye(r.Fragment,null);var j=I.numberedWindowSizes,N=r.useMemo((function(){return!!C||!w&&Object(O.a)(Object(E.k)().theme)}),[Object(E.k)().theme,w]),T=Boolean((null===(t=s.topic.enrollment)||void 0===t?void 0:t.id)&&"DJANGO"===s.language);r.useEffect((function(){I.numberedWindowSizes>3&&1===i.length&&d()}),[s]),r.useEffect((function(){"SQL"===s.language&&f()}),[s.language]),r.useEffect((function(){if(u){var e=u.splitViewStore.getLeftSizeInPercentage();100!==e&&e>60&&c&&d()}}),[u&&u.splitViewStore.getLeftSizeInPercentage()]),r.useEffect((function(){if(u&&c&&I.numberedWindowSizes<=3){d();var e=55/window.innerHeight*100;g(e)}}),[null===u||void 0===u?void 0:u.splitViewStore.getIsRightClosed(),j]);var L=r.useMemo((function(){return C||T}),[s.language]);return ye("div",{className:"CodeEditorTemplate "+(c?"CodeEditorTemplate--withExplorer":"")},c&&ye("div",{className:"CodeEditorTemplate__explorerContainer"},ye(A,{darkMode:N,title:s.title,items:i,download:_,onClickItem:a,selectedItem:null===o||void 0===o?void 0:o.itemData.id,allowEdit:L,changeItemName:p,removeItem:l,setDefaultFile:b,checkIsDefault:m,changeExplorerOpen:h,explorerOpen:c,isDjango:T,setCurrentExplorerItem:v,zipTerminalProject:y})),o&&ye(fe,{hasConsole:S,darkMode:N,isPreview:w,isEdit:L}),C&&ye(r.Fragment,null,ye(Ee,{type:"folder"}),ye(Ee,{type:"file"}),ye(Ee,{type:"attach"})))})))},"z2w+":function(e,t,n){}}]);